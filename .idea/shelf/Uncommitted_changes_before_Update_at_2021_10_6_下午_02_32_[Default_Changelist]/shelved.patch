Index: app/src/main/java/com/example/easybus/Page9Activity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.easybus;\r\n\r\nimport android.content.Context;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.ColorDrawable;\r\nimport android.location.Address;\r\nimport android.location.Geocoder;\r\nimport android.location.Location;\r\nimport android.location.LocationListener;\r\nimport android.location.LocationManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Gravity;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.PopupWindow;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.widget.PopupWindowCompat;\r\n\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\n\r\nimport static android.Manifest.permission.ACCESS_COARSE_LOCATION;\r\nimport static android.Manifest.permission.ACCESS_FINE_LOCATION;\r\n\r\npublic class Page9Activity extends AppCompatActivity implements OnMapReadyCallback {\r\n\r\n    private final static String TAG = \"GetLatLngActivity\";\r\n\r\n    private GoogleMap mMap;\r\n    private TextView txvAdd;\r\n    private  LocationManager locationManager = null;\r\n    private  String provider;\r\n    private Double latitude,longitude;\r\n    String city = \"\";\r\n    Button btn;\r\n    Geocoder gc;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_page9);\r\n        //隱藏title bar\r\n        ActionBar actionBar = getSupportActionBar();\r\n        actionBar.hide();//\r\n\r\n        SupportMapFragment mapFragment = (SupportMapFragment)getSupportFragmentManager()\r\n                .findFragmentById(R.id.mapView);\r\n        mapFragment.getMapAsync(this);\r\n\r\n        txvAdd = (TextView)findViewById(R.id.address);\r\n\r\n        if(checkPermissions()){\r\n            init();\r\n        }\r\n        btn = (Button)findViewById(R.id.btn_intent);\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                //initPopWindow(v);\r\n                TestPopupWindow mWindow = new TestPopupWindow(Page9Activity.this);\r\n\r\n                //測量contentView大小\r\n                TestPopupWindow window = new TestPopupWindow(Page9Activity.this);\r\n                View content = window.getContentView();\r\n                content.measure(makeDropDownMeasureSpec(window.getWidth()),makeDropDownMeasureSpec(window.getHeight()));\r\n                //Math.abs 回傳絕對值\r\n                int offset_x= mWindow.getContentView().getMeasuredWidth()-btn.getWidth()/5*3;\r\n                int offset_y = -(window.getContentView().getMeasuredHeight()+btn.getHeight()+30);\r\n                PopupWindowCompat.showAsDropDown(mWindow,btn,offset_x,offset_y,Gravity.NO_GRAVITY);\r\n            }\r\n        });\r\n\r\n        gc = new Geocoder(this, Locale.TRADITIONAL_CHINESE);\r\n    }\r\n\r\n    public class TestPopupWindow extends PopupWindow{\r\n        public  TestPopupWindow(Context context){\r\n            super(context);\r\n            setHeight(ViewGroup.LayoutParams.WRAP_CONTENT);\r\n            setWidth(ViewGroup.LayoutParams.WRAP_CONTENT);\r\n            setOutsideTouchable(true);\r\n            setFocusable(true);\r\n            setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n            View contentView = LayoutInflater.from(context).inflate(R.layout.page9_popup,null,false);\r\n            setContentView(contentView);\r\n        }\r\n    }\r\n/*\r\n    private void initPopWindow(View v) {\r\n        View view = LayoutInflater.from(Page9Activity.this).inflate(R.layout.page9_popup,null,false);\r\n        TextView txv = (TextView)view.findViewById(R.id.txv_line);\r\n        Button btn2 = (Button) view.findViewById(R.id.btn_back);\r\n        final PopupWindow popupWindow = new PopupWindow(view, ViewGroup.LayoutParams.WRAP_CONTENT,ViewGroup.LayoutParams.WRAP_CONTENT);\r\n        popupWindow.setAnimationStyle(R.anim.page9_animation);\r\n        popupWindow.setTouchable(true);\r\n        popupWindow.setTouchInterceptor(new View.OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View v, MotionEvent event) {\r\n                return false;\r\n            }\r\n        });\r\n        popupWindow.setBackgroundDrawable(new ColorDrawable(0x000000));\r\n        popupWindow.showAsDropDown(v,0,0);\r\n        btn2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                popupWindow.dismiss();\r\n            }\r\n        });\r\n    }\r\n\r\n */\r\n\r\n    private void init() {\r\n        locationManager = (LocationManager)getSystemService(Context.LOCATION_SERVICE);\r\n        List<String> providerList = locationManager.getProviders(true);\r\n        if(providerList.contains(LocationManager.GPS_PROVIDER)){\r\n            provider = LocationManager.GPS_PROVIDER;\r\n        }else if(providerList.contains(LocationManager.NETWORK_PROVIDER)){\r\n            provider = LocationManager.NETWORK_PROVIDER;\r\n        }else{\r\n            Toast.makeText(this,\"沒有位置提供器可使用\",Toast.LENGTH_LONG).show();\r\n            return;\r\n        }\r\n        Toast.makeText(this,provider+\"可使用\",Toast.LENGTH_LONG).show();\r\n        if(ActivityCompat.checkSelfPermission(this, ACCESS_FINE_LOCATION)!=PackageManager.PERMISSION_GRANTED\r\n                && ActivityCompat.checkSelfPermission(this,ACCESS_COARSE_LOCATION)!=PackageManager.PERMISSION_GRANTED){\r\n            return;\r\n        }\r\n        Location location = locationManager.getLastKnownLocation(provider);\r\n        if(location!=null){\r\n            showLocation(location);\r\n        } else{\r\n            String info = \"無法獲得當前位置\";\r\n            Toast.makeText(this,info,Toast.LENGTH_LONG).show();\r\n        }\r\n        locationManager.requestLocationUpdates(provider,100,0,locationListener);\r\n    }\r\n    LocationListener locationListener = new LocationListener() {\r\n        @Override\r\n        public void onLocationChanged(Location location) {\r\n            //Toast.makeText(Page9Activity.this,\"onLocationChanged\",Toast.LENGTH_LONG).show();\r\n            showLocation(location);\r\n        }\r\n\r\n        @Override\r\n        public void onStatusChanged(String provider, int status, Bundle extras) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onProviderEnabled(String provider) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onProviderDisabled(String provider) {\r\n\r\n        }\r\n    };\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        switch (requestCode){\r\n            case 1:\r\n                if(grantResults.length>0){\r\n                    for(int i = 0;i<permissions.length;i++){\r\n                        if(grantResults[i]==PackageManager.PERMISSION_GRANTED){\r\n                            Log.d(TAG,permissions[i]+\"allow\");\r\n                            init();\r\n                        }else{\r\n                            checkPermissions();\r\n                            Log.d(TAG,permissions[i]+\"not allow\");\r\n                        }\r\n                    }\r\n                }else{\r\n                    Log.d(\"TAG\",\"no pm allow\");\r\n                }\r\n                return;\r\n        }\r\n    }\r\n\r\n    private void showLocation(Location location) {\r\n\r\n        latitude = location.getLatitude();\r\n        longitude = location.getLongitude();\r\n        city = GPS2City(gc,latitude,longitude);\r\n        txvAdd.setText(city);\r\n    }\r\n\r\n    private String GPS2City(Geocoder gc, Double latitude, Double longitude) {\r\n        String city = \"\";\r\n        try{\r\n            List<Address> lstAddress = gc.getFromLocation(latitude,longitude,1);\r\n            String returnAddess = lstAddress.get(0).getAddressLine(0);\r\n            city = lstAddress.get(0).getAddressLine(0);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return city;\r\n    }\r\n\r\n    private boolean checkPermissions() {\r\n\r\n        if(Build.VERSION.SDK_INT>=23){\r\n            String permission[] = {ACCESS_COARSE_LOCATION,ACCESS_FINE_LOCATION};\r\n            List<String> pm_list = new ArrayList<>();\r\n            for(int i = 0;i<permission.length;i++){\r\n                int pm = ActivityCompat.checkSelfPermission(this,permission[i]);\r\n                if(pm!=PackageManager.PERMISSION_GRANTED){\r\n                    pm_list.add(permission[i]);\r\n                }\r\n            }\r\n            if(pm_list.size()>0){\r\n                for(int i = 0;i<pm_list.size();i++){\r\n                    Log.d(TAG, pm_list.get(i));\r\n                }\r\n                Log.d(TAG,pm_list.size()+\"\");\r\n                ActivityCompat.requestPermissions(this,pm_list.toArray(new String[pm_list.size()]),1);\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        //LatLng school = new LatLng(24.225431, 120.577063);\r\n        LatLng school = new LatLng(latitude, longitude);\r\n        mMap.addMarker(new MarkerOptions().position(school)\r\n                .title(\"靜宜大學\").snippet(\"Providence University\"));\r\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(school,14));\r\n    }\r\n\r\n    private static int makeDropDownMeasureSpec(int measureSpec){\r\n        int mode;\r\n        if(measureSpec==ViewGroup.LayoutParams.WRAP_CONTENT){\r\n            mode = View.MeasureSpec.UNSPECIFIED;\r\n        }else {\r\n            mode = View.MeasureSpec.EXACTLY;\r\n        }\r\n        return View.MeasureSpec.makeMeasureSpec(View.MeasureSpec.getSize(measureSpec),mode);\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/easybus/Page9Activity.java	(revision 6400053b2a6c0e7a0afaa820d4dde0eab67be493)
+++ app/src/main/java/com/example/easybus/Page9Activity.java	(date 1632931806000)
@@ -65,7 +65,7 @@
                 .findFragmentById(R.id.mapView);
         mapFragment.getMapAsync(this);
 
-        txvAdd = (TextView)findViewById(R.id.address);
+        //txvAdd = (TextView)findViewById(R.id.address);
 
         if(checkPermissions()){
             init();
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    package=\"com.example.easybus\">\r\n\r\n    <uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" />\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n    <uses-permission android:name=\"android.permission.CALL_PHONE\" />\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.CAMERA\" />\r\n\r\n    <uses-feature\r\n        android:name=\"android.hardware.camera\"\r\n        android:required=\"true\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:hardwareAccelerated=\"false\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:largeHeap=\"true\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\"\r\n        android:networkSecurityConfig=\"@xml/network_security_config\">\r\n        <activity android:name=\".Page11Activity\"></activity>\r\n\r\n        <receiver\r\n            android:name=\".MyLocationService\"\r\n            android:enabled=\"true\" />\r\n\r\n        <activity android:name=\".page1001Activity\" />\r\n        <activity android:name=\".Page70401Activity\" />\r\n        <activity android:name=\".Page70301Activity\" />\r\n        <activity android:name=\".Page70201Activity\" />\r\n        <activity android:name=\".Page70101Activity\" />\r\n        <activity android:name=\".Page704Activity\" />\r\n        <activity android:name=\".Page703Activity\" />\r\n        <activity android:name=\".Page702Activity\" />\r\n        <activity android:name=\".take_bus\" />\r\n        <activity android:name=\".Page62\" />\r\n        <activity android:name=\".Page61\" />\r\n        <activity\r\n            android:name=\".SelectPicPopupWindow\"\r\n            tools:ignore=\"Instantiatable\" />\r\n        <activity android:name=\".AddFamMember\" />\r\n        <activity android:name=\".edit\" />\r\n        <activity android:name=\".qrscanner\" />\r\n        <activity android:name=\".emergency_contact\" />\r\n        <activity android:name=\".Page8Activity_caregiver\" />\r\n        <activity android:name=\".edit_password\" />\r\n        <activity android:name=\".my_contact\" />\r\n        <activity android:name=\".qrcode_page\" />\r\n        <activity android:name=\".Forgotpassword\" />\r\n        <activity android:name=\".Page801Activity\" />\r\n        <activity android:name=\".Page701Activity\" />\r\n        <activity android:name=\".Login\" />\r\n        <activity android:name=\".Register\" />\r\n        <activity android:name=\".Page10Activity\" />\r\n        <activity android:name=\".Page9Activity\" />\r\n        <activity android:name=\".Page5011Activity\" />\r\n        <activity android:name=\".Page5012Activity\" />\r\n        <activity android:name=\".Login2\" />\r\n        <activity android:name=\".SignUp2\" />\r\n        <activity android:name=\".Login3\" />\r\n        <activity android:name=\".Signup3\" />\r\n\r\n        <meta-data\r\n            android:name=\"com.google.android.geo.API_KEY\"\r\n            android:value=\"@string/google_maps_key\" />\r\n        <meta-data\r\n            android:name=\"com.google.android.gms.version\"\r\n            android:value=\"@integer/google_play_services_version\" />\r\n\r\n        <provider\r\n            android:name=\"androidx.core.content.FileProvider\"\r\n            android:authorities=\"com.example.EasyBus.fileprovider\"\r\n            android:exported=\"false\"\r\n            android:grantUriPermissions=\"true\"\r\n            tools:ignore=\"ExtraText\">\r\n            <meta-data\r\n                android:name=\"android.support.FILE_PROVIDER_PATHS\"\r\n                android:resource=\"@xml/file_paths\" />\r\n        </provider>\r\n\r\n        <activity android:name=\".Page8Activity\" />\r\n        <activity android:name=\".Page7Activity\" />\r\n        <activity android:name=\".Page601\" />\r\n        <activity android:name=\".Page6Activity\" />\r\n        <activity android:name=\".Page3Activity\" />\r\n        <activity android:name=\".Page4Activity\" />\r\n        <activity android:name=\".Page2Activity\" />\r\n        <activity android:name=\".MainActivity\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity\r\n            android:name=\".Capture\"\r\n            android:screenOrientation=\"portrait\"\r\n            android:stateNotNeeded=\"true\"\r\n            android:theme=\"@style/zxing_CaptureTheme\" />\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision 6400053b2a6c0e7a0afaa820d4dde0eab67be493)
+++ app/src/main/AndroidManifest.xml	(date 1633501254473)
@@ -17,29 +17,15 @@
 
     <application
         android:allowBackup="true"
-        android:hardwareAccelerated="false"
         android:icon="@mipmap/ic_launcher"
         android:label="@string/app_name"
-        android:largeHeap="true"
+        android:networkSecurityConfig="@xml/network_security_config"
         android:roundIcon="@mipmap/ic_launcher_round"
         android:supportsRtl="true"
-        android:theme="@style/AppTheme"
-        android:networkSecurityConfig="@xml/network_security_config">
-        <activity android:name=".Page11Activity"></activity>
-
-        <receiver
-            android:name=".MyLocationService"
-            android:enabled="true" />
-
-        <activity android:name=".page1001Activity" />
-        <activity android:name=".Page70401Activity" />
-        <activity android:name=".Page70301Activity" />
-        <activity android:name=".Page70201Activity" />
-        <activity android:name=".Page70101Activity" />
-        <activity android:name=".Page704Activity" />
-        <activity android:name=".Page703Activity" />
-        <activity android:name=".Page702Activity" />
-        <activity android:name=".take_bus" />
+        android:theme="@style/AppTheme">
+        <activity android:name=".Page611"></activity>
+        <activity android:name=".Page62_combination" />
+        <activity android:name=".page62_test" />
         <activity android:name=".Page62" />
         <activity android:name=".Page61" />
         <activity
@@ -55,6 +41,7 @@
         <activity android:name=".qrcode_page" />
         <activity android:name=".Forgotpassword" />
         <activity android:name=".Page801Activity" />
+        <activity android:name=".Page702Activity" />
         <activity android:name=".Page701Activity" />
         <activity android:name=".Login" />
         <activity android:name=".Register" />
@@ -70,9 +57,6 @@
         <meta-data
             android:name="com.google.android.geo.API_KEY"
             android:value="@string/google_maps_key" />
-        <meta-data
-            android:name="com.google.android.gms.version"
-            android:value="@integer/google_play_services_version" />
 
         <provider
             android:name="androidx.core.content.FileProvider"
@@ -89,8 +73,8 @@
         <activity android:name=".Page7Activity" />
         <activity android:name=".Page601" />
         <activity android:name=".Page6Activity" />
-        <activity android:name=".Page3Activity" />
         <activity android:name=".Page4Activity" />
+        <activity android:name=".Page3Activity" />
         <activity android:name=".Page2Activity" />
         <activity android:name=".MainActivity">
             <intent-filter>
Index: app/src/main/res/layout/activity_page101.xml
===================================================================
--- app/src/main/res/layout/activity_page101.xml	(revision 6400053b2a6c0e7a0afaa820d4dde0eab67be493)
+++ app/src/main/res/layout/activity_page101.xml	(revision 6400053b2a6c0e7a0afaa820d4dde0eab67be493)
@@ -1,69 +0,0 @@
-<?xml version="1.0" encoding="utf-8"?>
-<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:app="http://schemas.android.com/apk/res-auto"
-    xmlns:tools="http://schemas.android.com/tools"
-    android:layout_width="match_parent"
-    android:layout_height="match_parent"
-    tools:context=".page101Activity">
-
-    <View
-    android:id="@+id/top"
-    android:layout_width="405dp"
-    android:layout_height="95dp"
-    android:background="@drawable/round_button"
-    android:visibility="visible"
-    app:layout_constraintEnd_toEndOf="parent"
-    app:layout_constraintStart_toStartOf="parent"
-    app:layout_constraintTop_toTopOf="parent" />
-
-    <ImageButton
-        android:id="@+id/back"
-        android:layout_width="85dp"
-        android:layout_height="85dp"
-        android:layout_marginTop="8dp"
-        android:scaleType="fitCenter"
-        app:layout_constraintEnd_toEndOf="@+id/top"
-        app:layout_constraintHorizontal_bias="0.009"
-        app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toTopOf="parent"
-        app:srcCompat="@drawable/back" />
-
-    <ImageView
-        android:id="@+id/iv1"
-        android:layout_width="275dp"
-        android:layout_height="64dp"
-        android:layout_marginTop="16dp"
-        app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintHorizontal_bias="0.395"
-        app:layout_constraintStart_toEndOf="@+id/back"
-        app:layout_constraintTop_toTopOf="parent"
-        app:srcCompat="@drawable/page5up" />
-
-    <ImageView
-        android:id="@+id/iv2"
-        android:layout_width="63dp"
-        android:layout_height="42dp"
-        app:layout_constraintBottom_toBottomOf="@+id/iv1"
-        app:layout_constraintEnd_toStartOf="@+id/gps_time"
-        app:layout_constraintStart_toStartOf="@+id/iv1"
-        app:layout_constraintTop_toTopOf="@+id/iv1"
-        app:srcCompat="@drawable/calendar"
-        tools:layout_editor_absoluteX="122dp"
-        tools:layout_editor_absoluteY="29dp" />
-
-    <TextView
-        android:id="@+id/gps_time"
-        android:layout_width="168dp"
-        android:layout_height="42dp"
-        android:gravity="center"
-        android:text="需求者歷史足跡"
-        android:textColor="#000000"
-        android:textSize="22sp"
-        android:textStyle="bold"
-        app:layout_constraintBottom_toBottomOf="@+id/iv1"
-        app:layout_constraintEnd_toEndOf="@+id/iv1"
-        app:layout_constraintStart_toEndOf="@+id/iv2"
-        app:layout_constraintTop_toTopOf="@+id/iv1" />
-
-
-</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/easybus/page101Activity.java
===================================================================
--- app/src/main/java/com/example/easybus/page101Activity.java	(revision 6400053b2a6c0e7a0afaa820d4dde0eab67be493)
+++ app/src/main/java/com/example/easybus/page101Activity.java	(revision 6400053b2a6c0e7a0afaa820d4dde0eab67be493)
@@ -1,14 +0,0 @@
-package com.example.easybus;
-
-import androidx.appcompat.app.AppCompatActivity;
-
-import android.os.Bundle;
-
-public class page101Activity extends AppCompatActivity {
-
-    @Override
-    protected void onCreate(Bundle savedInstanceState) {
-        super.onCreate(savedInstanceState);
-        setContentView(R.layout.activity_page101);
-    }
-}
\ No newline at end of file
Index: app/src/main/res/layout/activity_page9.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".Page9Activity\">\r\n\r\n    <View\r\n        android:id=\"@+id/top\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"95dp\"\r\n        android:background=\"@drawable/round_button\"\r\n        android:visibility=\"visible\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"1.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n    <ImageButton\r\n        android:id=\"@+id/back\"\r\n        android:layout_width=\"85dp\"\r\n        android:layout_height=\"85dp\"\r\n        android:layout_marginTop=\"8dp\"\r\n        android:scaleType=\"fitCenter\"\r\n        app:layout_constraintEnd_toEndOf=\"@+id/top\"\r\n        app:layout_constraintHorizontal_bias=\"0.009\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:srcCompat=\"@drawable/back\" />\r\n\r\n    <ImageView\r\n        android:id=\"@+id/iv1\"\r\n        android:layout_width=\"275dp\"\r\n        android:layout_height=\"64dp\"\r\n        android:layout_marginTop=\"16dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.395\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/back\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:srcCompat=\"@drawable/page5up\" />\r\n\r\n    <ImageView\r\n        android:id=\"@+id/iv2\"\r\n        android:layout_width=\"42dp\"\r\n        android:layout_height=\"42dp\"\r\n        app:srcCompat=\"@drawable/ic_gps\"\r\n        app:layout_constraintTop_toTopOf=\"@+id/iv1\"\r\n        app:layout_constraintBottom_toBottomOf=\"@+id/iv1\"\r\n        app:layout_constraintStart_toStartOf=\"@+id/iv1\"\r\n        app:layout_constraintEnd_toStartOf=\"@+id/gps_time\"\r\n        tools:layout_editor_absoluteX=\"122dp\"\r\n        tools:layout_editor_absoluteY=\"29dp\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/gps_time\"\r\n        android:layout_width=\"168dp\"\r\n        android:layout_height=\"42dp\"\r\n        android:gravity=\"center\"\r\n        android:text=\"需求者定位查詢\"\r\n        android:textColor=\"#000000\"\r\n        android:textSize=\"24sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintBottom_toBottomOf=\"@+id/iv1\"\r\n        app:layout_constraintEnd_toEndOf=\"@+id/iv1\"\r\n        app:layout_constraintStart_toEndOf=\"@+id/iv2\"\r\n        app:layout_constraintTop_toTopOf=\"@+id/iv1\" />\r\n\r\n\r\n    <View\r\n        android:id=\"@+id/bottom\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"570dp\"\r\n        android:layout_marginStart=\"50dp\"\r\n        android:layout_marginEnd=\"50dp\"\r\n        android:background=\"@drawable/round_button\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/top\" />\r\n\r\n    <fragment\r\n        android:id=\"@+id/mapView\"\r\n        android:layout_width=\"280dp\"\r\n        android:layout_height=\"400dp\"\r\n        app:layout_constraintEnd_toEndOf=\"@+id/bottom\"\r\n        app:layout_constraintTop_toTopOf=\"@+id/bottom\"\r\n        app:layout_constraintStart_toStartOf=\"@+id/bottom\"\r\n        app:layout_constraintBottom_toTopOf=\"@+id/address\"\r\n        android:layout_marginTop=\"20dp\"\r\n        android:name=\"com.google.android.gms.maps.SupportMapFragment\"/>\r\n\r\n\r\n\r\n    <TextView\r\n        android:id=\"@+id/address\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Address:\"\r\n        app:layout_constraintStart_toStartOf=\"@+id/bottom\"\r\n        app:layout_constraintEnd_toEndOf=\"@+id/bottom\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/mapView\"\r\n        app:layout_constraintBottom_toTopOf=\"@id/btn_intent\"\r\n        android:layout_marginTop=\"10dp\"/>\r\n\r\n    <Button\r\n        android:id=\"@+id/btn_intent\"\r\n        android:layout_width=\"140dp\"\r\n        android:layout_height=\"35dp\"\r\n        android:background=\"@drawable/page601_btn\"\r\n        android:text=\"查詢完整路線\"\r\n        android:drawableLeft=\"@drawable/page9_btn_search\"\r\n        android:textSize=\"18dp\"\r\n        app:layout_constraintStart_toStartOf=\"@+id/bottom\"\r\n        app:layout_constraintEnd_toEndOf=\"@+id/bottom\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/address\"\r\n        app:layout_constraintBottom_toBottomOf=\"@+id/bottom\"\r\n        android:clickable=\"false\"/>\r\n\r\n    <!--   <RadioGroup\r\n           android:id=\"@+id/radiogroup\"\r\n           android:layout_width=\"wrap_content\"\r\n           android:layout_height=\"wrap_content\"\r\n           android:gravity=\"center_horizontal|bottom\"\r\n           android:orientation=\"horizontal\"\r\n           app:layout_constraintBottom_toBottomOf=\"@+id/bottom\"\r\n           app:layout_constraintTop_toBottomOf=\"@+id/txvlng\"\r\n           app:layout_constraintStart_toStartOf=\"@+id/bottom\"\r\n           app:layout_constraintEnd_toEndOf=\"@+id/bottom\"\r\n           android:layout_marginTop=\"25dp\">\r\n           <RadioButton\r\n               android:id=\"@+id/radioButton1\"\r\n               style=\"@style/radioButton\"\r\n               android:checked=\"true\"/>\r\n           <RadioButton\r\n               android:id=\"@+id/radioButton2\"\r\n               style=\"@style/radioButton\"/>\r\n       </RadioGroup>\r\n       -->\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_page9.xml	(revision 6400053b2a6c0e7a0afaa820d4dde0eab67be493)
+++ app/src/main/res/layout/activity_page9.xml	(date 1632930894000)
@@ -58,7 +58,7 @@
         android:layout_width="168dp"
         android:layout_height="42dp"
         android:gravity="center"
-        android:text="需求者定位查詢"
+        android:text="定 位 查 詢"
         android:textColor="#000000"
         android:textSize="24sp"
         android:textStyle="bold"
@@ -82,41 +82,27 @@
 
     <fragment
         android:id="@+id/mapView"
+        android:name="com.google.android.gms.maps.SupportMapFragment"
         android:layout_width="280dp"
         android:layout_height="400dp"
+        android:layout_marginTop="20dp"
         app:layout_constraintEnd_toEndOf="@+id/bottom"
-        app:layout_constraintTop_toTopOf="@+id/bottom"
         app:layout_constraintStart_toStartOf="@+id/bottom"
-        app:layout_constraintBottom_toTopOf="@+id/address"
-        android:layout_marginTop="20dp"
-        android:name="com.google.android.gms.maps.SupportMapFragment"/>
-
+        app:layout_constraintTop_toTopOf="@+id/bottom" />
 
-
-    <TextView
-        android:id="@+id/address"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:text="Address:"
-        app:layout_constraintStart_toStartOf="@+id/bottom"
-        app:layout_constraintEnd_toEndOf="@+id/bottom"
-        app:layout_constraintTop_toBottomOf="@id/mapView"
-        app:layout_constraintBottom_toTopOf="@id/btn_intent"
-        android:layout_marginTop="10dp"/>
 
     <Button
         android:id="@+id/btn_intent"
         android:layout_width="140dp"
         android:layout_height="35dp"
         android:background="@drawable/page601_btn"
+        android:clickable="false"
+        android:drawableLeft="@drawable/page9_btn_search"
         android:text="查詢完整路線"
-        android:drawableLeft="@drawable/page9_btn_search"
         android:textSize="18dp"
-        app:layout_constraintStart_toStartOf="@+id/bottom"
-        app:layout_constraintEnd_toEndOf="@+id/bottom"
-        app:layout_constraintTop_toBottomOf="@id/address"
         app:layout_constraintBottom_toBottomOf="@+id/bottom"
-        android:clickable="false"/>
+        app:layout_constraintEnd_toEndOf="@+id/bottom"
+        app:layout_constraintStart_toStartOf="@+id/bottom" />
 
     <!--   <RadioGroup
            android:id="@+id/radiogroup"
Index: app/src/main/java/com/example/easybus/Page11Activity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.easybus;\r\n\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ImageButton;\r\nimport android.widget.Toast;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.JsonArrayRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.Dash;\r\nimport com.google.android.gms.maps.model.Dot;\r\nimport com.google.android.gms.maps.model.Gap;\r\nimport com.google.android.gms.maps.model.JointType;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.PatternItem;\r\nimport com.google.android.gms.maps.model.Polyline;\r\nimport com.google.android.gms.maps.model.PolylineOptions;\r\nimport com.google.android.gms.maps.model.RoundCap;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n/**\r\n * An activity that displays a Google map with polylines to represent paths or routes,\r\n * and polygons to represent areas.\r\n */\r\npublic class Page11Activity extends AppCompatActivity\r\n        implements\r\n        OnMapReadyCallback,\r\n        GoogleMap.OnPolylineClickListener{\r\n        //GoogleMap.OnPolygonClickListener{\r\n    private GoogleMap mMap;\r\n    ArrayList<String> dateArrayList = new ArrayList<String>();\r\n    String d[]=new String[100];\r\n    String getmail=\"asdf@gmail.com\";\r\n    String dayStr,date,la,lo;\r\n    Double latitude,longitude;\r\n    Double mlatitude,mlongitude;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_page11);\r\n        fetch_history();\r\n\r\n        Intent intent = getIntent();\r\n        //從PAGE10傳過來的 年月日\r\n        dayStr = intent.getStringExtra(\"dayStr\");\r\n        System.out.println(\"dayStr : \"+dayStr);\r\n        //隱藏title bar\r\n        ActionBar actionBar = getSupportActionBar();\r\n        actionBar.hide();\r\n        // Get the SupportMapFragment and request notification when the map is ready to be used.\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.r_map);\r\n        mapFragment.getMapAsync(this);\r\n        System.out.println(\"mlatitude:\"+mlatitude);\r\n        //System.out.println(\"historyArrayList :\"+historyArrayList.size());\r\n        System.out.println(\"1d.\"+d.length);\r\n        System.out.println(\"2d.\"+d.length);\r\n        for(int j=0;j<d.length;j++){\r\n            System.out.println(\"---++++---- :\"+d[j]);\r\n        }\r\n        System.out.println(\"1dateArrayList.size() :\"+dateArrayList.size());\r\n        for(String datee :dateArrayList){\r\n            System.out.println(\"1date : \"+datee);\r\n        }\r\n\r\n        //跳頁回家長主頁\r\n        ImageButton back = (ImageButton)findViewById(R.id.back);\r\n        back.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent it1 = new Intent(Page11Activity.this,Page10Activity.class);\r\n                startActivity(it1);\r\n            }\r\n        });\r\n\r\n    }\r\n    public void fetch_history(){\r\n        String URL =Urls.url1+\"/LoginRegister/fetch_perhistory.php?email=\"+getmail;\r\n        JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, URL, null,\r\n                new Response.Listener<JSONArray>() {\r\n                    @Override\r\n                    public void onResponse(JSONArray array) {\r\n                        for(int i =0;i<array.length();i++){\r\n                            try{\r\n                                JSONObject object = array.getJSONObject(i);\r\n                                date = object.getString(\"date\").trim();\r\n                                la = object.getString(\"latitude\").trim();\r\n                                lo = object.getString(\"longitude\").trim();\r\n                                latitude=Double.parseDouble(la);\r\n                                longitude=Double.parseDouble(lo);\r\n                                //mlatitude=GetLa(latitude);\r\n                                d[i]=date;\r\n                                getdate(date);\r\n                               /* history h =new history();\r\n                                h.setDate(date);\r\n                                h.setLatitude(latitude);\r\n                                h.setLongitude(longitude);\r\n                                historyArrayList.add(h);*/\r\n\r\n                                System.out.println(\"Get()\");\r\n                                //System.out.println(\"date :\"+date);\r\n                                //System.out.println(\"latitude :\"+latitude);\r\n                                //System.out.println(\"longitude :\"+longitude);\r\n                            } catch (JSONException e) {\r\n                                System.out.println(\"JSONException e :\"+e.toString());\r\n                            }\r\n                        }\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n               // Toast.makeText(Page11Activity.this, error.toString(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        RequestQueue requestQueue2 = Volley.newRequestQueue(Page11Activity.this);\r\n        requestQueue2.add(jsonArrayRequest);\r\n    }\r\n    public void getdate(final String d){\r\n\r\n    }\r\n\r\n    /**  for(history mh :historyArrayList){\r\n     System.out.println(\"getDate :\"+mh.getDate());\r\n     System.out.println(\"getLatitude :\"+mh.getLatitude());\r\n     System.out.println(\"getLongitude :\"+mh.getLongitude());\r\n     }\r\n     * Manipulates the map when it's available.\r\n     * The API invokes this callback when the map is ready to be used.\r\n     * This is where we can add markers or lines, add listeners or move the camera.\r\n     * In this tutorial, we add polylines and polygons to represent routes and areas on the map.\r\n     */\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        //Get();\r\n        System.out.println(\"2dateArrayList.size() :\"+dateArrayList.size());\r\n        for(String datee :dateArrayList){\r\n            System.out.println(\"2date : \"+datee);\r\n        }\r\n        System.out.println(\"2d.\"+d.length);\r\n        for(int j=0;j<d.length;j++){\r\n            System.out.println(\"------- :\"+d[j]);\r\n        }\r\n        // Add polylines to the map.\r\n        // Polylines are useful to show a route or some other connection between points.\r\n        Polyline polyline1 = googleMap.addPolyline(new PolylineOptions()\r\n                .clickable(true)\r\n                .add(\r\n                        // 把抓到的資料 丟到這邊\r\n                        new LatLng(-35.016, 143.321),//緯度 經度\r\n                        new LatLng(-34.747, 145.592),\r\n                        new LatLng(-34.364, 147.891),\r\n                        new LatLng(-33.501, 150.217),\r\n                        new LatLng(-32.306, 149.248),\r\n                        new LatLng(-32.491, 147.309)));\r\n        // Store a data object with the polyline, used here to indicate an arbitrary type.\r\n        polyline1.setTag(\"A\");\r\n        // Style the polyline.\r\n        stylePolyline(polyline1);\r\n\r\n        /*Polyline polyline2 = googleMap.addPolyline(new PolylineOptions()\r\n                .clickable(true)\r\n                .add(\r\n                        new LatLng(-29.501, 119.700),\r\n                        new LatLng(-27.456, 119.672),\r\n                        new LatLng(-25.971, 124.187),\r\n                        new LatLng(-28.081, 126.555),\r\n                        new LatLng(-28.848, 124.229),\r\n                        new LatLng(-28.215, 123.938)));\r\n        polyline2.setTag(\"B\");\r\n        stylePolyline(polyline2);*/\r\n\r\n        /*// Add polygons to indicate areas on the map.\r\n        Polygon polygon1 = googleMap.addPolygon(new PolygonOptions()\r\n                .clickable(true)\r\n                .add(\r\n                        new LatLng(-27.457, 153.040),\r\n                        new LatLng(-33.852, 151.211),\r\n                        new LatLng(-37.813, 144.962),\r\n                        new LatLng(-34.928, 138.599)));\r\n        // Store a data object with the polygon, used here to indicate an arbitrary type.\r\n        polygon1.setTag(\"alpha\");\r\n        // Style the polygon.\r\n        stylePolygon(polygon1);\r\n\r\n        Polygon polygon2 = googleMap.addPolygon(new PolygonOptions()\r\n                .clickable(true)\r\n                .add(\r\n                        new LatLng(-31.673, 128.892),\r\n                        new LatLng(-31.952, 115.857),\r\n                        new LatLng(-17.785, 122.258),\r\n                        new LatLng(-12.4258, 130.7932)));\r\n        polygon2.setTag(\"beta\");\r\n        stylePolygon(polygon2);*/\r\n\r\n        // Position the map's camera near Alice Springs in the center of Australia,\r\n        // and set the zoom factor so most of Australia shows on the screen.\r\n        googleMap.moveCamera(CameraUpdateFactory.newLatLngZoom(new LatLng(-23.684, 133.903), 4));\r\n\r\n        // Set listeners for click events.\r\n        googleMap.setOnPolylineClickListener(this);\r\n        //googleMap.setOnPolygonClickListener(this);\r\n    }\r\n\r\n    private static final int COLOR_BLACK_ARGB = 0xff000000;\r\n    private static final int POLYLINE_STROKE_WIDTH_PX = 12;\r\n    /**\r\n     * Styles the polyline, based on type.\r\n     * @param polyline2 The polyline object that needs styling.\r\n     */\r\n    private void stylePolyline(Polyline polyline2) {\r\n        // Use a round cap at the start of the line.\r\n        polyline2.setStartCap(new RoundCap());\r\n\r\n\r\n        polyline2.setEndCap(new RoundCap());\r\n        polyline2.setWidth(POLYLINE_STROKE_WIDTH_PX);\r\n        polyline2.setColor(COLOR_BLACK_ARGB);\r\n        polyline2.setJointType(JointType.ROUND);\r\n    }\r\n    private static final int PATTERN_GAP_LENGTH_PX = 20;\r\n    private static final PatternItem DOT = new Dot();\r\n    private static final PatternItem GAP = new Gap(PATTERN_GAP_LENGTH_PX);\r\n\r\n    // Create a stroke pattern of a gap followed by a dot.\r\n    private static final List<PatternItem> PATTERN_POLYLINE_DOTTED = Arrays.asList(GAP, DOT);\r\n    /**\r\n     * Listens for clicks on a polyline.\r\n     * @param polyline The polyline object that the user has clicked.\r\n     */\r\n\r\n    @Override\r\n    public void onPolylineClick(Polyline polyline) {\r\n        // Flip from solid stroke to dotted stroke pattern. 從實心筆劃翻轉為虛線筆劃圖案\r\n        if ((polyline.getPattern() == null) || (!polyline.getPattern().contains(DOT))) {\r\n            polyline.setPattern(PATTERN_POLYLINE_DOTTED);\r\n        } else {\r\n            // The default pattern is a solid stroke. 默認圖案是實心筆劃。\r\n            polyline.setPattern(null);\r\n        }\r\n\r\n        Toast.makeText(this, \"Route type \" + polyline.getTag().toString(),\r\n                Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    /**\r\n     * Listens for clicks on a polygon.\r\n     * @param polygon The polygon object that the user has clicked.\r\n     */\r\n\r\n   /* @Override\r\n    public void onPolygonClick(Polygon polygon) {\r\n        // Flip the values of the red, green, and blue components of the polygon's color.\r\n        int color = polygon.getStrokeColor() ^ 0x00ffffff;\r\n        polygon.setStrokeColor(color);\r\n        color = polygon.getFillColor() ^ 0x00ffffff;\r\n        polygon.setFillColor(color);\r\n\r\n        Toast.makeText(this, \"Area type \" + polygon.getTag().toString(), Toast.LENGTH_SHORT).show();\r\n\r\n    }*/\r\n    private static final int COLOR_WHITE_ARGB = 0xffffffff;\r\n    private static final int COLOR_GREEN_ARGB = 0xff388E3C;\r\n    private static final int COLOR_PURPLE_ARGB = 0xff81C784;\r\n    private static final int COLOR_ORANGE_ARGB = 0xffF57F17;\r\n    private static final int COLOR_BLUE_ARGB = 0xffF9A825;\r\n\r\n    private static final int POLYGON_STROKE_WIDTH_PX = 8;\r\n    private static final int PATTERN_DASH_LENGTH_PX = 20;\r\n    private static final PatternItem DASH = new Dash(PATTERN_DASH_LENGTH_PX);\r\n\r\n    // Create a stroke pattern of a gap followed by a dash.\r\n    private static final List<PatternItem> PATTERN_POLYGON_ALPHA = Arrays.asList(GAP, DASH);\r\n\r\n    // Create a stroke pattern of a dot followed by a gap, a dash, and another gap.\r\n    private static final List<PatternItem> PATTERN_POLYGON_BETA =\r\n            Arrays.asList(DOT, GAP, DASH, GAP);\r\n\r\n    /**\r\n     * Styles the polygon, based on type.\r\n     * @param polygon2 The polygon object that needs styling.\r\n     */\r\n    /*private void stylePolygon(Polygon polygon2) {\r\n        String type = \"\";\r\n        // Get the data object stored with the polygon.\r\n        if (polygon2.getTag() != null) {\r\n            type = polygon2.getTag().toString();\r\n        }\r\n\r\n        List<PatternItem> pattern = null;\r\n        int strokeColor = COLOR_BLACK_ARGB;\r\n        int fillColor = COLOR_WHITE_ARGB;\r\n\r\n        switch (type) {\r\n            // If no type is given, allow the API to use the default.\r\n            case \"alpha\":\r\n                // Apply a stroke pattern to render a dashed line, and define colors.\r\n                pattern = PATTERN_POLYGON_ALPHA;\r\n                strokeColor = COLOR_GREEN_ARGB;\r\n                fillColor = COLOR_PURPLE_ARGB;\r\n                break;\r\n            case \"beta\":\r\n                // Apply a stroke pattern to render a line of dots and dashes, and define colors.\r\n                pattern = PATTERN_POLYGON_BETA;\r\n                strokeColor = COLOR_ORANGE_ARGB;\r\n                fillColor = COLOR_BLUE_ARGB;\r\n                break;\r\n        }\r\n\r\n        polygon2.setStrokePattern(pattern);\r\n        polygon2.setStrokeWidth(POLYGON_STROKE_WIDTH_PX);\r\n        polygon2.setStrokeColor(strokeColor);\r\n        polygon2.setFillColor(fillColor);\r\n    }*/\r\n\r\n\r\n\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/easybus/Page11Activity.java	(revision 6400053b2a6c0e7a0afaa820d4dde0eab67be493)
+++ app/src/main/java/com/example/easybus/Page11Activity.java	(date 1633016246000)
@@ -5,8 +5,10 @@
 
 import android.content.Intent;
 import android.os.Bundle;
+import android.util.Log;
 import android.view.View;
 import android.widget.ImageButton;
+import android.widget.TextView;
 import android.widget.Toast;
 
 import com.android.volley.Request;
@@ -40,22 +42,21 @@
  * An activity that displays a Google map with polylines to represent paths or routes,
  * and polygons to represent areas.
  */
-public class Page11Activity extends AppCompatActivity
-        implements
-        OnMapReadyCallback,
-        GoogleMap.OnPolylineClickListener{
-        //GoogleMap.OnPolygonClickListener{
+public class Page11Activity extends AppCompatActivity implements OnMapReadyCallback, GoogleMap.OnPolylineClickListener{
+    //GoogleMap.OnPolygonClickListener{
     private GoogleMap mMap;
     ArrayList<String> dateArrayList = new ArrayList<String>();
     String d[]=new String[100];
-    String getmail="asdf@gmail.com";
+    String getmail="pinky@gmail.com";
     String dayStr,date,la,lo;
     Double latitude,longitude;
     Double mlatitude,mlongitude;
+
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
         setContentView(R.layout.activity_page11);
+
         fetch_history();
 
         Intent intent = getIntent();
Index: app/src/main/java/com/example/easybus/Page10Activity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.easybus;\r\n\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.ImageButton;\r\nimport android.widget.Toast;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Date;\r\nimport java.util.List;\r\n\r\npublic class Page10Activity extends AppCompatActivity {\r\n\r\n    private calendar cal;\r\n    public Date yyyy,mm;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_page10);\r\n        //隱藏title bar\r\n        ActionBar actionBar = getSupportActionBar();\r\n        actionBar.hide();\r\n\r\n      //  List<String> d = new ArrayList<>();\r\n        Date date = new Date();\r\n        SimpleDateFormat ysdf=new SimpleDateFormat(\"yyyy\");\r\n        SimpleDateFormat Msdf=new SimpleDateFormat(\"yyyy-MM\");\r\n        String ydate=ysdf.format(date);\r\n        //yyyy = str2Date(ydate);\r\n        //System.out.println(\"yyyyyyyyyy :\"+yyyy);\r\n        String Mdate=Msdf.format(date);\r\n        //mm = str2Date(Mdate);\r\n       // System.out.println(\"ydate : \"+ydate);\r\n       // for(String retval:date.split(\"-\"))\r\n         //   d.add(retval);\r\n\r\n        //跳頁回家長主頁\r\n        ImageButton back = (ImageButton)findViewById(R.id.back);\r\n        back.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent it1 = new Intent(Page10Activity.this,Page4Activity.class);\r\n                startActivity(it1);\r\n            }\r\n        });\r\n\r\n        cal = (calendar)findViewById(R.id.cal);\r\n\r\n        //TODO模擬請求當月數據\r\n        final List<DayFinish> list = new ArrayList<>();\r\n        list.add(new DayFinish(1,2,2));\r\n        list.add(new DayFinish(2,1,2));\r\n        list.add(new DayFinish(3,0,2));\r\n        list.add(new DayFinish(4,2,2));\r\n        list.add(new DayFinish(5,2,2));\r\n        list.add(new DayFinish(6,2,2));\r\n        list.add(new DayFinish(7,2,2));\r\n        list.add(new DayFinish(8,0,2));\r\n        list.add(new DayFinish(9,1,2));\r\n        list.add(new DayFinish(8,0,2));\r\n        list.add(new DayFinish(9,1,2));\r\n        list.add(new DayFinish(10,2,2));\r\n        list.add(new DayFinish(11,5,2));\r\n        list.add(new DayFinish(12,2,2));\r\n        list.add(new DayFinish(13,2,2));\r\n        list.add(new DayFinish(14,3,2));\r\n        list.add(new DayFinish(15,2,2));\r\n        list.add(new DayFinish(14,3,2));\r\n        list.add(new DayFinish(15,2,2));\r\n        list.add(new DayFinish(16,1,2));\r\n        list.add(new DayFinish(17,0,2));\r\n        list.add(new DayFinish(18,2,2));\r\n        list.add(new DayFinish(19,2,2));\r\n        list.add(new DayFinish(20,0,2));\r\n        list.add(new DayFinish(21,2,2));\r\n        list.add(new DayFinish(22,1,2));\r\n        list.add(new DayFinish(23,2,0));\r\n        list.add(new DayFinish(24,0,2));\r\n        list.add(new DayFinish(25,2,2));\r\n        list.add(new DayFinish(26,2,2));\r\n        list.add(new DayFinish(27,2,2));\r\n        list.add(new DayFinish(28,2,2));\r\n        list.add(new DayFinish(29,2,2));\r\n        list.add(new DayFinish(30,2,2));\r\n        list.add(new DayFinish(31,2,2));\r\n        /*String nowday[]=new String[2];\r\n        int n = d.size();\r\n        int i=1;\r\n        while (n==0){\r\n            nowday[n]=d.toString();\r\n            n--;\r\n        }\r\n        System.out.println(\"nowday : \"+nowday);*/\r\n        cal.setRenwu(ydate,Mdate,list);\r\n        cal.setOnClickListen(new calendar.onClickListener() {\r\n            @Override\r\n            public void onLeftRowClick() {\r\n                Toast.makeText(Page10Activity.this,\"點擊減箭頭\",Toast.LENGTH_SHORT).show();\r\n                cal.monthChange(-1);\r\n                if(cal.m.equals(\"JAN\")){\r\n                    cal.yearChange(-1);\r\n                }\r\n                new Thread(){\r\n                    @Override\r\n                    public void run(){\r\n                        try{\r\n                            Thread.sleep(1000);\r\n                            Page10Activity.this.runOnUiThread(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                    cal.setRenwu(list);\r\n                                }\r\n                            });\r\n                        }catch (Exception e){\r\n\r\n                        }\r\n                    }\r\n                }.start();\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onRightRowClick() {\r\n                Toast.makeText(Page10Activity.this,\"點擊加箭頭\",Toast.LENGTH_SHORT).show();\r\n                cal.monthChange(1);\r\n                if(cal.m.equals(\"DEC\")){\r\n                    cal.yearChange(1);\r\n                }\r\n                new Thread(){\r\n                    @Override\r\n                    public void run(){\r\n                        try{\r\n                            Thread.sleep(1000);\r\n                            Page10Activity.this.runOnUiThread(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                    cal.setRenwu(list);\r\n                                }\r\n                            });\r\n                        }catch (Exception e){\r\n\r\n                        }\r\n                    }\r\n                }.start();\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTitleClick(String monStr, Date month) {\r\n                Toast.makeText(Page10Activity.this,\"點擊了標題：\"+monStr,Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n            @Override\r\n            public void onWeekClick(int weekIndex, String weekStr) {\r\n                Toast.makeText(Page10Activity.this,\"點擊了星期：\"+weekStr,Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onDayClick(int day, String dayStr, DayFinish finish) {\r\n                Toast.makeText(Page10Activity.this,\"點擊了日期：\"+dayStr,Toast.LENGTH_SHORT).show();\r\n                Log.w(\"\",\"點擊了日期：\"+dayStr);\r\n                Intent intent =new Intent(Page10Activity.this, Page11Activity.class);\r\n                intent.putExtra(\"dayStr\",dayStr);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    class DayFinish{\r\n        int day,all,finish;\r\n        public DayFinish(int day,int finish,int all){\r\n            this.day = day;\r\n            this.all = all;\r\n            this.finish = finish;\r\n        }\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/easybus/Page10Activity.java	(revision 6400053b2a6c0e7a0afaa820d4dde0eab67be493)
+++ app/src/main/java/com/example/easybus/Page10Activity.java	(date 1633012600000)
@@ -166,7 +166,7 @@
             public void onDayClick(int day, String dayStr, DayFinish finish) {
                 Toast.makeText(Page10Activity.this,"點擊了日期："+dayStr,Toast.LENGTH_SHORT).show();
                 Log.w("","點擊了日期："+dayStr);
-                Intent intent =new Intent(Page10Activity.this, Page11Activity.class);
+                Intent intent =new Intent(Page10Activity.this, page1001Activity.class);
                 intent.putExtra("dayStr",dayStr);
                 startActivity(intent);
             }
