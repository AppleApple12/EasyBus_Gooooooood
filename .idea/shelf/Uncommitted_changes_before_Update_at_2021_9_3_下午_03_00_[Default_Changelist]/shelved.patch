Index: app/src/main/res/layout/activity_my_contact.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"#DDDDDD\"\r\n    tools:context=\".my_contact\">\r\n\r\n    <ImageView\r\n        android:id=\"@+id/backicon\"\r\n        android:layout_width=\"44dp\"\r\n        android:layout_height=\"49dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.062\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.023\"\r\n        app:srcCompat=\"@drawable/backicon\" />\r\n\r\n    <de.hdodenhof.circleimageview.CircleImageView\r\n        android:id=\"@+id/profilepic\"\r\n        android:layout_width=\"197dp\"\r\n        android:layout_height=\"163dp\"\r\n        android:clickable=\"true\"\r\n        android:src=\"@drawable/profile\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.08\"\r\n        app:srcCompat=\"@drawable/profile\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/EnteredName\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"陳時中\"\r\n        android:textColor=\"#131212\"\r\n        android:textSize=\"30sp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.498\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.319\" />\r\n\r\n    <ImageView\r\n        android:id=\"@+id/gggground\"\r\n        android:layout_width=\"356dp\"\r\n        android:layout_height=\"525dp\"\r\n        android:layout_marginTop=\"280dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.49\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:srcCompat=\"@drawable/gggground\" />\r\n\r\n    <androidx.recyclerview.widget.RecyclerView\r\n        android:id=\"@+id/recyclerview\"\r\n        android:layout_width=\"356dp\"\r\n        android:layout_height=\"525dp\"\r\n        android:layout_marginStart=\"24dp\"\r\n        android:layout_marginTop=\"312dp\"\r\n        android:layout_marginEnd=\"68dp\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.0\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_my_contact.xml	(revision 0cb7999d6786448a83ad92a3bfee6809334e1b0d)
+++ app/src/main/res/layout/activity_my_contact.xml	(date 1630652209978)
@@ -59,15 +59,24 @@
 
     <androidx.recyclerview.widget.RecyclerView
         android:id="@+id/recyclerview"
-        android:layout_width="356dp"
-        android:layout_height="525dp"
+        android:layout_width="270dp"
+        android:layout_height="527dp"
         android:layout_marginStart="24dp"
         android:layout_marginTop="312dp"
-        android:layout_marginEnd="68dp"
+        android:layout_marginEnd="32dp"
         app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintHorizontal_bias="0.0"
+        app:layout_constraintHorizontal_bias="1.0"
         app:layout_constraintStart_toStartOf="parent"
         app:layout_constraintTop_toTopOf="parent" />
+
+    <androidx.recyclerview.widget.RecyclerView
+        android:id="@+id/imgrecyclerview"
+        android:layout_width="80dp"
+        android:layout_height="527dp"
+        android:layout_marginTop="312dp"
+        android:layout_marginEnd="304dp"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintTop_toTopOf="parent" />
 
 
 </androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/easybus/calendar.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.easybus;\r\n\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.res.TypedArray;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.graphics.Canvas;\r\nimport android.graphics.Color;\r\nimport android.graphics.DashPathEffect;\r\nimport android.graphics.Paint;\r\nimport android.graphics.PathEffect;\r\nimport android.graphics.PointF;\r\nimport android.graphics.RectF;\r\nimport android.util.AttributeSet;\r\nimport android.util.Log;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\nimport java.util.GregorianCalendar;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class calendar extends View {\r\n    private  String TAG = \"CustomerCalendar\";\r\n\r\n    private Date month,year;//當前月份\r\n    private boolean isCurrentMonth;//展示的月份是否是當前月\r\n    private int currentDay,selectDay,lastSelectDay;//當前日期.選中日期.上一次選中的日期\r\n\r\n    private int dayOfMonth; //月分天數\r\n    private int firstIndex;//當月第一天位置索引\r\n    private int todayWeekIndex;//今天星期幾\r\n    private int firstLineNum,lastLineNum;//第一行.最後一行能展示多少日期\r\n    private int lineNum;    //日期行數\r\n    private  String[] WEEK_STR = new String[]{\"SUN\",\"MON\",\"TUE\",\"WED\",\"THU\",\"FRI\",\"SAT\"};\r\n\r\n\r\n    private int mBgMonth,mBgWeek,mBgDay,mBgpre;//各部分背景\r\n    //標題顏色.大小\r\n    private int mTextColorMonth,mTextColorYear;\r\n    private float mTextSizeMonth,mTextSizeYear;\r\n    private int mMonthRowL,mMonthRowR;\r\n    private float mMonthRowSpac;\r\n    private float mMonthSpac,mYearSpac;\r\n    //星期的顏色.大小\r\n    private int mTextColorWeek,mSelectWeekTextColor;\r\n    private float mTextSizeWeek;\r\n    //日期文本的顏色.大小\r\n    private int mTextColorDay;\r\n    private float mTextSizeDay;\r\n    //任務次數文本顏色.大小\r\n    private int mTextColorPreFinish,mTextColorPreUnFinish,mTextColorPreNull;\r\n    private float mTextSizePre;\r\n    //選中文本的顏色\r\n    private int mSelectTextColor;\r\n    //選中背景\r\n    private int mSelectBg,mCurrentBg;\r\n    private float mSelectRadius,mCurrentBgStrokeWidth;\r\n    private float[] mCurrentBgDahPath;\r\n\r\n    //行間距\r\n    private float mLineSpac;\r\n    //字體上下間距\r\n    private float mTextSpac;\r\n\r\n    private Paint mPaint;\r\n    private Paint bgPaint;\r\n\r\n    private float titleHeight,weekHeight,dayHeight,preHeight,oneHeight;\r\n    private int columnWidth;//每列寬度\r\n\r\n    public String y,m;//年份\r\n\r\n    public calendar(Context context){\r\n        this(context,null);\r\n    }\r\n    public calendar(Context context, AttributeSet attrs){\r\n        this(context,attrs,0);\r\n    }\r\n    public calendar(Context context,AttributeSet attrs,int defStyleAttr){\r\n        super(context,attrs,defStyleAttr);\r\n\r\n        TypedArray a = context.getTheme().obtainStyledAttributes(attrs,R.styleable.calendar,defStyleAttr,0);\r\n\r\n        mBgMonth = a.getColor(R.styleable.calendar_mBgMonth, Color.TRANSPARENT);\r\n        mBgWeek = a.getColor(R.styleable.calendar_mBgWeek,Color.TRANSPARENT);\r\n        mBgDay = a.getColor(R.styleable.calendar_mBgDay,Color.TRANSPARENT);\r\n        //mBgpre = a.getColor(R.styleable.calendar_mBgPre,Color.TRANSPARENT);\r\n\r\n        mMonthRowL = a.getResourceId(R.styleable.calendar_mMonthRowL,R.drawable.custom_calendar_row_left);\r\n        mMonthRowR = a.getResourceId(R.styleable.calendar_mMonthRowR,R.drawable.custom_calendar_row_right);\r\n        mMonthRowSpac = a.getDimension(R.styleable.calendar_mMonthRowSpac,50);\r\n        mTextColorMonth = a.getColor(R.styleable.calendar_mTextColorMonth,Color.BLACK);\r\n        mTextSizeMonth = a.getDimension(R.styleable.calendar_mTextSizeMonth,50);\r\n        mMonthSpac = a.getDimension(R.styleable.calendar_mMonthSpac,20);\r\n\r\n        mTextSizeYear = a.getDimension(R.styleable.calendar_mTextSizeYear,100);\r\n        mTextColorYear = a.getColor(R.styleable.calendar_mTextColorYear,Color.BLACK);\r\n        mYearSpac = a.getDimension(R.styleable.calendar_mYearSpac,20);\r\n\r\n        mTextColorWeek = a.getColor(R.styleable.calendar_mTextColorWeek,Color.BLACK);\r\n        mSelectWeekTextColor = a.getColor(R.styleable.calendar_mSelectWeekTextColor,Color.BLACK);\r\n\r\n        mTextSizeWeek = a.getDimension(R.styleable.calendar_mTextSizeWeek,70);\r\n        mTextColorDay = a.getColor(R.styleable.calendar_mTextColorDay,Color.GRAY);\r\n        mTextSizeDay = a.getDimension(R.styleable.calendar_mTextSizeDay,70);\r\n        //mTextColorPreFinish = a.getColor(R.styleable.calendar_mTextColorPreFinish,Color.BLUE);\r\n        //mTextColorPreUnFinish = a.getColor(R.styleable.calendar_mTextColorPreUnFinish,Color.BLUE);\r\n        //mTextColorPreNull = a.getColor(R.styleable.calendar_mTextColorPreNull,Color.BLUE);\r\n        //mTextSizePre = a.getDimension(R.styleable.calendar_mTextSizePre,40);\r\n        mSelectTextColor = a.getColor(R.styleable.calendar_mSelectTextColor,Color.YELLOW);\r\n        mCurrentBg = a.getColor(R.styleable.calendar_mCurrentBg,Color.GRAY);\r\n\r\n        try{\r\n            int dashPathId = a.getResourceId(R.styleable.calendar_mCurrentBgDashPath,R.array.calendar_currentDay_bg_DashPath);\r\n            int[] array = getResources().getIntArray(dashPathId);\r\n            mCurrentBgDahPath = new float[array.length];\r\n            for(int i  = 0;i<array.length;i++){\r\n                mCurrentBgDahPath[i] = array[i];\r\n            }\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n            mCurrentBgDahPath = new float[]{2,3,2,3};\r\n        }\r\n\r\n        mSelectBg = a.getColor(R.styleable.calendar_mSelectBg,Color.YELLOW);\r\n        mSelectRadius = a.getDimension(R.styleable.calendar_mSelectRadius,20);\r\n        mCurrentBgStrokeWidth = a.getDimension(R.styleable.calendar_mCurrentBgStrokeWidth,5);\r\n        mLineSpac = a.getDimension(R.styleable.calendar_mLineSpac,20);\r\n        mTextSpac = a.getDimension(R.styleable.calendar_mTextSpac,20);\r\n        a.recycle();    //注意回收\r\n\r\n        initcompute();\r\n    }\r\n\r\n    /**設置年份**/\r\n    private  void setYear(String Year){\r\n        year = str2DateYear(Year);\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTime(year);\r\n    }\r\n    /**設置月份**/\r\n    private  void setMonth(String Month){\r\n        //設置的月份\r\n        month = str2Date(Month);\r\n\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTime(new Date());\r\n\r\n        currentDay = calendar.get(Calendar.DAY_OF_MONTH);\r\n        todayWeekIndex = calendar.get(calendar.DAY_OF_WEEK)-1;\r\n\r\n        Date cM = str2Date(getMonthStr(new Date()));\r\n\r\n        //判斷是否為當月\r\n        if(cM.getTime()== month.getTime()){\r\n            isCurrentMonth = true;\r\n            selectDay = currentDay;//當月默認選中當前日\r\n        }else{\r\n            isCurrentMonth = false;\r\n            selectDay = 0;\r\n        }\r\n\r\n        Log.d(TAG,\"設置月份:\"+month+\"   今天\"+currentDay+\"號,是否為當前月:\"+isCurrentMonth);\r\n        calendar.setTime(month);\r\n        dayOfMonth = calendar.getActualMaximum(Calendar.DAY_OF_MONTH);\r\n        //第一行的1號是星期幾\r\n        firstIndex = calendar.get(Calendar.DAY_OF_WEEK)-1;\r\n        lineNum = 1;\r\n        //第一行能展示的天數\r\n        firstLineNum = 7-firstIndex;\r\n        lastLineNum = 0;\r\n        int shengyu = dayOfMonth-firstLineNum;\r\n        while(shengyu>7){\r\n            lineNum++;\r\n            shengyu-=7;\r\n        }\r\n        if(shengyu>0){\r\n            lineNum++;\r\n            lastLineNum = shengyu;\r\n        }\r\n        Log.i(TAG,getMonthStr(month)+\"一共有\"+dayOfMonth+\"天，第一天的索引是：\"+firstIndex+\"   有\"+lineNum+\"行，第一行\"+firstLineNum+\"個，最後一行\"+lastLineNum+\"個\");\r\n    }\r\n    /***計算相關常量，構造方法中適用*/\r\n    private  void initcompute(){\r\n        mPaint = new Paint();\r\n        bgPaint = new Paint();\r\n        mPaint.setAntiAlias(true);  //抗鋸齒\r\n        bgPaint.setAntiAlias(true); //抗鋸齒\r\n\r\n        map = new HashMap<>();\r\n        //標題高度\r\n        mPaint.setTextSize(mTextSizeMonth);\r\n        mPaint.setTextSize(mTextSizeYear);\r\n        titleHeight = FontUtil.getFontHeight(mPaint)+2*mMonthRowSpac+2*mYearSpac;\r\n        //星期高度\r\n        mPaint.setTextSize(mTextSizeWeek);\r\n        weekHeight = FontUtil.getFontHeight(mPaint);\r\n        //日期高度\r\n        mPaint.setTextSize(mTextSizeDay);\r\n        dayHeight = FontUtil.getFontHeight(mPaint);\r\n        /*次數字體高度\r\n        mPaint.setTextSize(mTextSizePre);*/\r\n        //每行高度 = 行間距 + 日期字體高度 + 字間距\r\n        oneHeight = mLineSpac + dayHeight +mTextSpac;\r\n\r\n        //默認當前月分\r\n        String cDateStr = getMonthStr(new Date());\r\n        setMonth(cDateStr);\r\n\r\n        //默認當前年分\r\n        String cYearStr = getYearStr(new Date());\r\n        setYear(cYearStr);\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onMeasure(int widthMeasureSpec,int heightMeasureSpec){\r\n        //寬度 = 填充父窗體\r\n        int widthSize = MeasureSpec.getSize(widthMeasureSpec);  //獲取寬的尺寸\r\n        columnWidth = widthSize/7;\r\n        //高度 = 標題高度+星期高度+日期高度*每行高度\r\n        float height = titleHeight+weekHeight+(lineNum*oneHeight);\r\n        Log.v(TAG,\"標題高度\"+titleHeight+\"星期高度：\"+weekHeight+\" 每行高度：\"+oneHeight+\"行數：\"+lineNum+\" \\n控建高度：\"+height);\r\n        setMeasuredDimension(getDefaultSize(getSuggestedMinimumHeight(),widthMeasureSpec),(int)height);\r\n    }\r\n    @Override\r\n    protected void onDraw(Canvas canvas){\r\n        drawMonth(canvas);\r\n        drawWeek(canvas);\r\n        drawDayAndPre(canvas);\r\n    }\r\n    private  int rowLStart,rowRStart,rowWidth;\r\n    /***繪製月份*/\r\n    private void drawMonth(Canvas canvas){\r\n        //背景\r\n        bgPaint.setColor(mBgMonth);\r\n        RectF rect = new RectF(0,0,getWidth(),titleHeight);\r\n        //canvas.drawRect(rect,bgPaint);\r\n        canvas.drawRoundRect(rect,40,40,bgPaint);\r\n\r\n\r\n        //繪製月份\r\n        mPaint.setTextSize(mTextSizeMonth);\r\n        mPaint.setColor(mTextColorMonth);\r\n        float textLen = FontUtil.getFontlength(mPaint,getMonthStr(month));\r\n        float textStart = (getWidth()-textLen)/2;\r\n        switch (getMonthStr(month)){\r\n            case \"01月\":\r\n                m = \"JAN\";\r\n                break;\r\n            case \"02月\":\r\n                m = \"FEB\";\r\n                break;\r\n            case \"03月\":\r\n                m = \"MAR\";\r\n                break;\r\n            case \"04月\":\r\n                m = \"APR\";\r\n                break;\r\n            case \"05月\":\r\n                m = \"MAY\";\r\n                break;\r\n            case \"06月\":\r\n                m = \"JUN\";\r\n                break;\r\n            case \"07月\":\r\n                m = \"JUL\";\r\n                break;\r\n            case \"08月\":\r\n                m = \"AUG\";\r\n                break;\r\n            case \"09月\":\r\n                m = \"SEP\";\r\n                break;\r\n            case \"10月\":\r\n                m = \"OCT\";\r\n                break;\r\n            case \"11月\":\r\n                m = \"NOV\";\r\n                break;\r\n            case \"12月\":\r\n                m = \"DEC\";\r\n                break;\r\n        }\r\n        //canvas.drawText(m,getWidth()-FontUtil.getFontlength(mPaint,getMonthStr(month)),mMonthRowSpac+FontUtil.getFontLeading(mPaint),mPaint);\r\n        canvas.drawText(m,getWidth()-FontUtil.getFontlength(mPaint,getMonthStr(month)),275,mPaint);\r\n        mPaint.setShadowLayer(5f,2,2,Color.GRAY);   //增加陰影\r\n\r\n        /*繪製年份\r\n        mPaint.setTextSize(mTextSizeYear);\r\n        mPaint.setColor(mTextColorYear);\r\n        Calendar mCalender = new GregorianCalendar();\r\n        int year = mCalender.get(Calendar.YEAR);\r\n        y = String.valueOf(year);\r\n        float textYear = FontUtil.getFontlength(mPaint,y);\r\n        float textYearStart = (getWidth()-textYear)/2;\r\n        canvas.drawText(y,mYearSpac,mYearSpac+FontUtil.getFontLeading(mPaint),mPaint);*/\r\n\r\n        //繪製年份\r\n        mPaint.setTextSize(mTextSizeYear);\r\n        mPaint.setColor(mTextColorYear);\r\n        float textYear = FontUtil.getFontlength(mPaint,getYearStr(year));\r\n        //float textYearStart = (getWidth()-textYear)/2;\r\n        canvas.drawText(getYearStr(year),mYearSpac,mYearSpac+FontUtil.getFontLeading(mPaint),mPaint);\r\n\r\n\r\n        //繪製左右箭頭\r\n        Bitmap bitmap = BitmapFactory.decodeResource(getResources(),mMonthRowL);    //獲取圖片\r\n        int h = bitmap.getHeight(); //箭頭的圖片高\r\n        rowWidth = bitmap.getWidth();   //箭頭的圖片寬\r\n\r\n        //float left,float top;\r\n        rowLStart= (int)(textStart-2*mMonthRowSpac-rowWidth);\r\n        //canvas.drawBitmap(bitmap,rowLStart+mMonthRowSpac,(titleHeight-h)/2,new Paint());\r\n        canvas.drawBitmap(bitmap,40,320,new Paint());\r\n        //canvas.drawBitmap(bitmap,10,(titleHeight+weekHeight+(lineNum*oneHeight))/2,new Paint());\r\n        bitmap = BitmapFactory.decodeResource(getResources(), mMonthRowR);\r\n        rowRStart = (int)(textStart+textLen);\r\n        //canvas.drawBitmap(bitmap,rowRStart+mMonthSpac,(titleHeight-h)/2,new Paint());\r\n        canvas.drawBitmap(bitmap,rowRStart+mMonthSpac+70,320,new Paint());\r\n        //canvas.drawBitmap(bitmap,getWidth()-10,(titleHeight+weekHeight+(lineNum*oneHeight))/2,new Paint());\r\n    }\r\n    /**繪製星期*/\r\n    private  void drawWeek(Canvas canvas){\r\n        //背景\r\n        bgPaint.setColor(mBgWeek);\r\n        RectF rect = new RectF(0,titleHeight,getWidth(),titleHeight+weekHeight);\r\n        canvas.drawRect(rect,bgPaint);\r\n        //繪製星期：七天\r\n        mPaint.setTextSize(mTextSizeWeek);\r\n\r\n        for(int i = 0;i<WEEK_STR.length;i++){\r\n            if(todayWeekIndex == i && isCurrentMonth){\r\n                mPaint.setColor(mSelectWeekTextColor);\r\n            }else{\r\n                mPaint.setColor(mTextColorWeek);\r\n            }\r\n            int len = (int)FontUtil.getFontlength(mPaint,WEEK_STR[i]);\r\n            int x = i*columnWidth + rowWidth;\r\n            //int x = i*columnWidth + (columnWidth-len)/2;\r\n            canvas.drawText(WEEK_STR[i],x,titleHeight+FontUtil.getFontLeading(mPaint),mPaint);\r\n        }\r\n\r\n    }\r\n    /**繪製日期.次數*/\r\n    private  void drawDayAndPre(Canvas canvas){\r\n        //某行開始繪製的Y座標，第一行開始的座標為標題高度+星期部分高度\r\n        float top = titleHeight+weekHeight;\r\n        //行\r\n        for(int line = 0;line<lineNum;line++){\r\n            if(line==0){\r\n                //第一行\r\n                drawDayAndPre(canvas, top, firstLineNum,0,firstIndex);\r\n            }else if(line==lineNum-1){\r\n                top+=oneHeight;\r\n                drawDayAndPre(canvas,top,lastLineNum,firstLineNum+(line-1)*7,0);\r\n            }else{\r\n                //滿行\r\n                top+=oneHeight;\r\n                drawDayAndPre(canvas,top,7,firstLineNum+(line-1)*7,0);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\\\r\n     * 繪製某一行的日期\r\n     * @param canvas\r\n     * @param top 頂點座標\r\n     * @param count 此行需要繪製的日期數量(不一定都是7天)\r\n     * @param overDay 已經繪製過的日期，從overDay+1開始繪製\r\n     * @param startIndex 此行第一個日期的星期索引\r\n     */\r\n    private void drawDayAndPre(Canvas canvas,float top,int count,int overDay,int startIndex){\r\n        //Log.e(TAG,\"總共\"+dayOfMonth+\"天    有\"+lineNum+\"行\"+\"    已經畫了\"+overDay+\"天，下面繪製：\"+count+\"天\");\r\n        //背景\r\n        float topPre = top+mLineSpac+dayHeight;\r\n        bgPaint.setColor(mBgDay);\r\n        RectF rect = new RectF(0,top,getWidth(),topPre);\r\n        canvas.drawRect(rect,bgPaint);\r\n\r\n        bgPaint.setColor(mBgpre);\r\n        rect = new RectF(0,topPre,getWidth(),topPre+mTextSpac+dayHeight);\r\n        canvas.drawRect(rect,bgPaint);\r\n\r\n        mPaint.setTextSize(mTextSizeDay);\r\n        float dayTextLeading = FontUtil.getFontLeading(mPaint);\r\n        mPaint.setTextSize(mTextSizePre);\r\n        float preTextLeading = FontUtil.getFontLeading(mPaint);\r\n        //Log.v(TAG,\"當前日期：\"+currentDay+\"  選擇日期：\"+selectDay+\"  是否為當前月：\"+isCurrentMonth);\r\n        for(int i = 0;i<count;i++){\r\n            int left = (startIndex+i)*columnWidth;\r\n            int day = (overDay+i+1);\r\n\r\n            mPaint.setTextSize(mTextSizeDay);\r\n\r\n            //如果是當前月，當天日期需要做處理\r\n            if(isCurrentMonth && currentDay==day){\r\n                mPaint.setColor(mTextColorDay);\r\n                bgPaint.setColor(mCurrentBg);\r\n                bgPaint.setStyle(Paint.Style.STROKE);   //空心\r\n                PathEffect effect = new DashPathEffect(mCurrentBgDahPath,1);\r\n                bgPaint.setPathEffect(effect);  //設置畫筆曲線間隔\r\n                bgPaint.setStrokeWidth(mCurrentBgStrokeWidth);  //畫筆寬度\r\n                //繪製空心圓背景\r\n                canvas.drawCircle(left+columnWidth/2,top+mLineSpac+dayHeight/2,mSelectRadius-mCurrentBgStrokeWidth,bgPaint);\r\n            }\r\n            //繪製完後將畫筆還原，避免髒筆\r\n            bgPaint.setPathEffect(null);\r\n            bgPaint.setStrokeWidth(0);\r\n            bgPaint.setStyle(Paint.Style.FILL);\r\n            //選中的日期，如果是本月，選中日期正好是當天日期，下面的背景會覆蓋上面繪製的虛線背景\r\n            if(selectDay == day){\r\n                //選中的日期字體白色，紅色背景\r\n                mPaint.setColor(mSelectTextColor);\r\n                bgPaint.setColor(mSelectBg);\r\n                //繪製橙色圓背景，參數一是中心點的x軸，參數二是中心點的y軸，參數三是半徑，參數四是Paint對象;\r\n                canvas.drawCircle(left+columnWidth/2,top+mLineSpac+dayHeight/2,mSelectRadius,bgPaint);\r\n\r\n            }else{\r\n                mPaint.setColor(mTextColorDay);\r\n            }\r\n\r\n            int len = (int)FontUtil.getFontlength(mPaint,day+\"\");\r\n            int x = left+(columnWidth-len)/2;\r\n            canvas.drawText(day+\"\",x,top+mLineSpac+dayTextLeading,mPaint);\r\n\r\n            /*繪製次數\r\n            mPaint.setTextSize(mTextSizePre);\r\n            Page10Activity.DayFinish finish = map.get(day);\r\n            String preStr = \"0/0\";\r\n            if(isCurrentMonth){\r\n                if(day>currentDay){\r\n                    mPaint.setColor(mTextColorPreNull);\r\n                }else if (finish!=null){\r\n                    //區分完成.未完成\r\n                    if(finish.finish>=finish.all){\r\n                        mPaint.setColor(mTextColorPreFinish);\r\n                    }else{\r\n                        mPaint.setColor(mTextColorPreUnFinish);\r\n                    }\r\n                    preStr = finish.finish+\"/\"+finish.all;\r\n                }else{\r\n                    mPaint.setColor(mTextColorPreNull);\r\n                }\r\n            }else {\r\n                if(finish!=null){\r\n                    //區分完成.未完成\r\n                    if(finish.finish>=finish.all){\r\n                        mPaint.setColor(mTextColorPreFinish);\r\n                    }else{\r\n                        mPaint.setColor(mTextColorPreUnFinish);\r\n                    }\r\n                    preStr = finish.finish+\"/\"+finish.all;\r\n                }else{\r\n                    mPaint.setColor(mTextColorPreNull);\r\n                }\r\n            }\r\n\r\n            len = (int)FontUtil.getFontlength(mPaint,preStr);\r\n            x = left+(columnWidth-len)/2;\r\n            canvas.drawText(preStr,x,topPre+mTextSpac+preTextLeading,mPaint);*/\r\n        }\r\n    }\r\n\r\n    /**月份標題**/\r\n    public String getMonthStr(Date month){\r\n        SimpleDateFormat df = new SimpleDateFormat(\"MM月\");\r\n        return  df.format(month);\r\n    }\r\n    private Date str2Date(String str){\r\n        try{\r\n            SimpleDateFormat df = new SimpleDateFormat(\"MM月\");\r\n            return df.parse(str);\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**年份標題**/\r\n    private String getYearStr(Date year){\r\n        SimpleDateFormat df = new SimpleDateFormat(\"yyyy\");\r\n        return df.format(year);\r\n    }\r\n    private Date str2DateYear(String str){\r\n        try{\r\n            SimpleDateFormat df = new SimpleDateFormat(\"yyyy\");\r\n            return df.parse(str);\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n    /**********事件處理**********/\r\n    //焦點座標\r\n    private PointF focusPoint = new PointF();\r\n    @Override\r\n    public boolean onTouchEvent(MotionEvent event){\r\n        int action = event.getAction() & MotionEvent.ACTION_MASK;   //ACTION_MASK處理多點觸控\r\n        switch (action){\r\n            case MotionEvent.ACTION_DOWN | MotionEvent.ACTION_MOVE:\r\n                focusPoint.set(event.getX(),event.getY());\r\n                touchFocusMove(focusPoint,false);\r\n                break;\r\n            case MotionEvent.ACTION_OUTSIDE:\r\n            case MotionEvent.ACTION_CANCEL:\r\n            case MotionEvent.ACTION_UP:\r\n                focusPoint.set(event.getX(),event.getY());\r\n                touchFocusMove(focusPoint,true);\r\n                break;\r\n        }\r\n        return true;\r\n    }\r\n    /**焦點滑動**/\r\n    public void touchFocusMove(final PointF point,boolean eventEnd){\r\n        Log.e(TAG,\"點擊座標：(\"+point.x+\" ，\"+point.y+\")，事件是否結束：\"+eventEnd);\r\n        /**標題和星期只有在事件結束後才響應**/\r\n        if(point.y<=titleHeight){\r\n            //事件在標題上\r\n            if(eventEnd && listener!=null){\r\n                if(point.x>=rowLStart && point.x<(rowLStart+2*mMonthRowSpac+rowWidth)){\r\n                    Log.w(TAG,\"點擊左箭頭\");\r\n                    listener.onLeftRowClick();\r\n                }else if (point.x>rowRStart && point.x<(rowRStart+2*mMonthRowSpac+rowWidth)){\r\n                    Log.w(TAG,\"點擊右箭頭\");\r\n                    listener.onRightRowClick();\r\n                }else if(point.x>rowLStart && point.x<rowRStart){\r\n                    listener.onTitleClick(getMonthStr(month),month);\r\n                }\r\n            }\r\n        }else if (point.y<=(titleHeight+weekHeight)){\r\n            //事件在星期的部分\r\n            if (eventEnd && listener!=null){\r\n                //根據x座標找到具體的焦點日期\r\n                int xIndex = (int)point.x/columnWidth;\r\n                Log.e(TAG,\"列寬：\"+columnWidth+\"   x座標餘數：\"+(point.x/columnWidth));\r\n                if ((point.x/columnWidth-xIndex)>0){\r\n                    xIndex+=1;\r\n                }\r\n                if(listener!=null){\r\n                    listener.onWeekClick(xIndex-1,WEEK_STR[xIndex-1]);\r\n                }\r\n            }\r\n        }else{\r\n            /**日期部分按下和滑動時重繪**/\r\n            touchDay(point,eventEnd);\r\n        }\r\n    }\r\n    //控制事件是否響應\r\n    private boolean responseWhenEnd = false;\r\n    /**事件點在日期區域範圍內**/\r\n    private void touchDay(final PointF point,boolean eventEnd){\r\n        //根據y座標找到焦點行\r\n        boolean availabitlity = false;  //事件是否有效\r\n        //日期部分\r\n        float top = titleHeight+weekHeight+oneHeight;\r\n        int focusLine = 1;\r\n        while (focusLine<=lineNum){\r\n            if(top>=point.y){\r\n                availabitlity = true;\r\n                break;\r\n            }\r\n            top+=oneHeight;\r\n            focusLine++;\r\n        }\r\n        if(availabitlity){\r\n            //根據x座標找到具體的焦點日期\r\n            int xIndex = (int)point.x/columnWidth;\r\n            if((point.x/columnWidth-xIndex)>0){\r\n                xIndex+=1;\r\n            }\r\n            //Log.e(TAG,\"列寬：\"+columnWidth+\"   x座標餘數：\"+(point.x/columnWidth));\r\n            if (xIndex<=0){\r\n                xIndex = 1;\r\n            }\r\n            if (xIndex>7){\r\n                xIndex = 7;\r\n            }\r\n            //Log.e(TAG,\"事件在日期部分，第\"+focusLine+\"/\"+lineNum+\"行，\"+xIndex+\"列\");\r\n            if (focusLine==1){\r\n                //第一行\r\n                if (xIndex<=firstIndex){\r\n                    Log.e(TAG,\"點到開始空位了\");\r\n                    setSelectedDay(selectDay,true);\r\n                }else{\r\n                    setSelectedDay(xIndex-firstIndex,eventEnd);\r\n                }\r\n            }else if (focusLine==lineNum){\r\n                //最後一行\r\n                if(xIndex>lastLineNum){\r\n                    Log.e(TAG,\"點到結尾空位\");\r\n                    setSelectedDay(selectDay,true);\r\n                }else {\r\n                    setSelectedDay(firstLineNum+(focusLine-2)*7+xIndex,eventEnd);\r\n                }\r\n            }else{\r\n                setSelectedDay(firstLineNum+(focusLine-2)*7+xIndex,eventEnd);\r\n            }\r\n        }else{\r\n            //超出日期區域後，視為事件結束，響應最後一個選擇日期的回調\r\n            setSelectedDay(selectDay,true);\r\n        }\r\n    }\r\n    /**設置選中的日期**/\r\n    private void setSelectedDay(int day,boolean eventEnd){\r\n        Log.w(TAG,\"選中：\"+day+\"   事件是否結束\"+eventEnd);\r\n        selectDay = day;\r\n        invalidate();\r\n        if(listener!=null && eventEnd && responseWhenEnd && lastSelectDay!=selectDay){\r\n            lastSelectDay = selectDay;\r\n            listener.onDayClick(selectDay,getMonthStr(month)+selectDay+\"日\",map.get(selectDay));\r\n        }\r\n        responseWhenEnd = !eventEnd;\r\n    }\r\n\r\n    @Override\r\n    public void invalidate(){\r\n        requestLayout();\r\n        super.invalidate();\r\n    }\r\n\r\n\r\n    /************接口API**********/\r\n    private Map<Integer,Page10Activity.DayFinish> map;\r\n    public void setRenwu(String year,String month, List<Page10Activity.DayFinish> list){\r\n        setMonth(month);\r\n        setYear(year);\r\n        if (list!=null && list.size()>0){\r\n            map.clear();\r\n            for(Page10Activity.DayFinish finish:list)\r\n                map.put(finish.day,finish);\r\n        }\r\n        invalidate();\r\n    }\r\n\r\n    public void setRenwu(List<Page10Activity.DayFinish> list){\r\n        if(list!=null && list.size()>0){\r\n            map.clear();    //重置map\r\n            for (Page10Activity.DayFinish finish:list)\r\n                map.put(finish.day,finish);\r\n        }\r\n        invalidate();\r\n    }\r\n\r\n    /**月份增減**/\r\n    public void monthChange(int change){\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTime(month);\r\n        calendar.add(Calendar.MONTH,change);\r\n        setMonth(getMonthStr(calendar.getTime()));\r\n        map.clear();\r\n        invalidate();\r\n    }\r\n    /**年份增減**/\r\n    public void yearChange(int change){\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTime(year);\r\n        calendar.add(Calendar.YEAR,change);\r\n        setYear(getYearStr(calendar.getTime()));\r\n        map.clear();\r\n        invalidate();\r\n    }\r\n\r\n    private onClickListener listener;\r\n    public void setOnClickListen(onClickListener listener){\r\n        this.listener = listener;\r\n    }\r\n    interface onClickListener{\r\n        public abstract void onLeftRowClick();\r\n        public abstract void onRightRowClick();\r\n        public abstract void onTitleClick(String monStr,Date month);\r\n        public abstract void onWeekClick(int weekIndex,String weekStr);\r\n        public abstract void onDayClick(int day,String dayStr,Page10Activity.DayFinish finish);\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/easybus/calendar.java	(revision 0cb7999d6786448a83ad92a3bfee6809334e1b0d)
+++ app/src/main/java/com/example/easybus/calendar.java	(date 1630652246187)
@@ -136,6 +136,8 @@
         a.recycle();    //注意回收
 
         initcompute();
+        currentDay = calendar.get(Calendar.DAY_OF_MONTH);
+        todayWeekIndex = calendar.get(Calendar.DAY_OF_WEEK)-1;
     }
 
     /**設置年份**/
@@ -153,8 +155,8 @@
         Calendar calendar = Calendar.getInstance();
         calendar.setTime(new Date());
 
-        currentDay = calendar.get(Calendar.DAY_OF_MONTH);
-        todayWeekIndex = calendar.get(calendar.DAY_OF_WEEK)-1;
+        //currentDay = calendar.get(Calendar.DAY_OF_MONTH);
+        //todayWeekIndex = calendar.get(Calendar.DAY_OF_WEEK)-1;
 
         Date cM = str2Date(getMonthStr(new Date()));
 
Index: app/src/main/java/com/example/easybus/my_contact.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.easybus;\r\n\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.app.Dialog;\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.ColorDrawable;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.JsonArrayRequest;\r\nimport com.android.volley.toolbox.JsonObjectRequest;\r\nimport com.android.volley.toolbox.Volley;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class my_contact extends AppCompatActivity {\r\n    String email,getmail;\r\n    TextView mEnteredName;\r\n    ImageView backBtn;\r\n    RequestQueue requestQueue;\r\n    RecyclerView mrecyclerView;\r\n    friendAdapter friendAdapter;\r\n    List<friend> friendList;\r\n    Dialog dialog;\r\n    Button clickme;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_my_contact);\r\n        //隱藏title bar///\r\n        ActionBar actionBar = getSupportActionBar();\r\n        actionBar.hide();\r\n\r\n        backBtn=findViewById(R.id.backicon);\r\n        mEnteredName = findViewById(R.id.EnteredName);\r\n        dialog = new Dialog(my_contact.this);\r\n\r\n        dialog.setContentView(R.layout.nofriend_dialog);\r\n        //刪除dialog方方的背景\r\n        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n        clickme=dialog.findViewById(R.id.button9);\r\n\r\n        LoadAllfriend();\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this, LinearLayoutManager.VERTICAL, false);\r\n        mrecyclerView=findViewById(R.id.recyclerview);\r\n        mrecyclerView.setHasFixedSize(true);\r\n       // LinearLayoutManager llm = new LinearLayoutManager(this);\r\n        //llm.setOrientation(LinearLayoutManager.VERTICAL);\r\n       //mrecyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        mrecyclerView.setLayoutManager(linearLayoutManager);\r\n\r\n        friendList = new ArrayList<>();\r\n        //friendAdapter = new friendAdapter(my_contact.this,friendList);\r\n        //mrecyclerView.setAdapter(friendAdapter);\r\n        requestQueue = Volley.newRequestQueue(this);\r\n        getmail=mail();\r\n        readUser();\r\n        //返回我的資料\r\n        backBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(my_contact.this,Page8Activity.class);\r\n                intent.putExtra(\"email\",getmail);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n\r\n        String URL =Urls.url1+\"/LoginRegister/my_contact.php?email=\"+getmail;\r\n        //Request.Method.GET,URL,null我自己加的\r\n        JsonArrayRequest request = new JsonArrayRequest(Request.Method.GET,URL,null,\r\n                new Response.Listener<JSONArray>() {\r\n                    @Override\r\n                    public void onResponse(JSONArray array) {\r\n                        if (array.length()==0){\r\n                            dialog.show();\r\n                            clickme.setOnClickListener(new View.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(View v) {\r\n                                    Intent intent = new Intent(my_contact.this,qrcode_page.class);\r\n                                    intent.putExtra(\"email\",getmail);\r\n                                    startActivity(intent);\r\n                                }\r\n                            });\r\n                        }else\r\n                        for(int i =0;i<array.length();i++){\r\n                            try {\r\n                                JSONObject object = array.getJSONObject(i);\r\n                                String name = object.getString(\"F_name\").trim();\r\n                                String phone = object.getString(\"F_phone\").trim();\r\n\r\n                                friend f =new friend();\r\n                                f.setF_name(name);\r\n                                f.setF_phone(phone);\r\n                                friendList.add(f);\r\n\r\n                            } catch (JSONException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        }\r\n                        friendAdapter = new friendAdapter(my_contact.this,friendList);\r\n                        mrecyclerView.setAdapter(friendAdapter);\r\n\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Toast.makeText(my_contact.this, error.toString(), Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n        RequestQueue requestQueue2 = Volley.newRequestQueue(my_contact.this);\r\n        requestQueue2.add(request);\r\n\r\n    }\r\n\r\n    private void LoadAllfriend() {\r\n\r\n    }\r\n\r\n    //抓取使用者基本資料\r\n    private void readUser(){\r\n        String URL =Urls.url1+\"/LoginRegister/fetch.php?email=\"+getmail;\r\n        JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(\r\n                Request.Method.GET,\r\n                URL,\r\n                null,\r\n                new Response.Listener<JSONObject>() {\r\n                    @Override\r\n                    public void onResponse(JSONObject response) {\r\n                        String fullname;\r\n                        try {\r\n                            fullname = response.getString(\"fullname\");\r\n                            mEnteredName.setText(fullname);\r\n                        } catch (JSONException e) {\r\n                            e.printStackTrace();\r\n                            Toast.makeText(my_contact.this, e.toString(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        Toast.makeText(my_contact.this, error.toString(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n        );\r\n        requestQueue.add(jsonObjectRequest);\r\n    }\r\n    public String mail(){\r\n        Bundle extras = getIntent().getExtras();\r\n        if (extras!=null){\r\n            email=extras.getString(\"email\");\r\n        }\r\n        return email;\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/easybus/my_contact.java	(revision 0cb7999d6786448a83ad92a3bfee6809334e1b0d)
+++ app/src/main/java/com/example/easybus/my_contact.java	(date 1630652246105)
@@ -7,6 +7,7 @@
 
 import android.app.Dialog;
 import android.content.Intent;
+import android.content.SharedPreferences;
 import android.graphics.Color;
 import android.graphics.drawable.ColorDrawable;
 import android.os.Bundle;
@@ -22,7 +23,10 @@
 import com.android.volley.VolleyError;
 import com.android.volley.toolbox.JsonArrayRequest;
 import com.android.volley.toolbox.JsonObjectRequest;
+import com.android.volley.toolbox.StringRequest;
 import com.android.volley.toolbox.Volley;
+import com.squareup.picasso.Callback;
+import com.squareup.picasso.Picasso;
 
 import org.json.JSONArray;
 import org.json.JSONException;
@@ -31,16 +35,24 @@
 import java.util.ArrayList;
 import java.util.List;
 
+import de.hdodenhof.circleimageview.CircleImageView;
+
 public class my_contact extends AppCompatActivity {
-    String email,getmail;
+    String email,getmail,img,img2;
     TextView mEnteredName;
     ImageView backBtn;
     RequestQueue requestQueue;
-    RecyclerView mrecyclerView;
+    RecyclerView mrecyclerView,imgrecyclerView;
     friendAdapter friendAdapter;
+    ImageListAdapter imageListAdapter;
     List<friend> friendList;
+    List<ImageList> imageLists;
     Dialog dialog;
     Button clickme;
+    CircleImageView mPforfilepic;
+    ImageView img123;
+    String imgUrl,imgurl2,imgimg;
+    String femail;
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -48,77 +60,86 @@
         //隱藏title bar///
         ActionBar actionBar = getSupportActionBar();
         actionBar.hide();
-
+        //抓email
+        SharedPreferences email = getSharedPreferences("email",MODE_PRIVATE);
+        getmail=email.getString("Email","");
         backBtn=findViewById(R.id.backicon);
         mEnteredName = findViewById(R.id.EnteredName);
         dialog = new Dialog(my_contact.this);
-
+        mPforfilepic = findViewById(R.id.profilepic);
+        img123 = findViewById(R.id.imageView3);
         dialog.setContentView(R.layout.nofriend_dialog);
         //刪除dialog方方的背景
         dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));
-        clickme=dialog.findViewById(R.id.button9);
+        clickme=dialog.findViewById(R.id.button10);
 
         LoadAllfriend();
         LinearLayoutManager linearLayoutManager = new LinearLayoutManager(this, LinearLayoutManager.VERTICAL, false);
         mrecyclerView=findViewById(R.id.recyclerview);
         mrecyclerView.setHasFixedSize(true);
-       // LinearLayoutManager llm = new LinearLayoutManager(this);
-        //llm.setOrientation(LinearLayoutManager.VERTICAL);
-       //mrecyclerView.setLayoutManager(new LinearLayoutManager(this));
         mrecyclerView.setLayoutManager(linearLayoutManager);
 
+
+        LinearLayoutManager line = new LinearLayoutManager(this, LinearLayoutManager.VERTICAL, false);
+        imgrecyclerView=findViewById(R.id.imgrecyclerview);
+        imgrecyclerView.setHasFixedSize(true);
+        imgrecyclerView.setLayoutManager(line);
+
         friendList = new ArrayList<>();
+        imageLists = new ArrayList<>();
         //friendAdapter = new friendAdapter(my_contact.this,friendList);
         //mrecyclerView.setAdapter(friendAdapter);
         requestQueue = Volley.newRequestQueue(this);
-        getmail=mail();
+        //getmail=mail();
         readUser();
+        fetchimage();
         //返回我的資料
         backBtn.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
                 Intent intent = new Intent(my_contact.this,Page8Activity.class);
-                intent.putExtra("email",getmail);
+                //intent.putExtra("email",getmail);
                 startActivity(intent);
                 finish();
             }
         });
-
         String URL =Urls.url1+"/LoginRegister/my_contact.php?email="+getmail;
         //Request.Method.GET,URL,null我自己加的
         JsonArrayRequest request = new JsonArrayRequest(Request.Method.GET,URL,null,
                 new Response.Listener<JSONArray>() {
                     @Override
-                    public void onResponse(JSONArray array) {
+                    public void onResponse(JSONArray array) {//////
                         if (array.length()==0){
                             dialog.show();
                             clickme.setOnClickListener(new View.OnClickListener() {
                                 @Override
                                 public void onClick(View v) {
                                     Intent intent = new Intent(my_contact.this,qrcode_page.class);
-                                    intent.putExtra("email",getmail);
+                                    // intent.putExtra("email",getmail);
                                     startActivity(intent);
                                 }
                             });
                         }else
-                        for(int i =0;i<array.length();i++){
-                            try {
-                                JSONObject object = array.getJSONObject(i);
-                                String name = object.getString("F_name").trim();
-                                String phone = object.getString("F_phone").trim();
-
-                                friend f =new friend();
-                                f.setF_name(name);
-                                f.setF_phone(phone);
-                                friendList.add(f);
+                            for(int i =0;i<array.length();i++){
+                                try {
+                                    JSONObject object = array.getJSONObject(i);
+                                    String name = object.getString("F_name").trim();
+                                    String phone = object.getString("F_phone").trim();
+                                    femail = object.getString("F_email").trim();
+                                    friend f =new friend();
+                                    f.setF_name(name);
+                                    f.setF_phone(phone);
+                                    friendList.add(f);
+                                    fetchfimage();
 
-                            } catch (JSONException e) {
-                                e.printStackTrace();
-                            }
-                        }
+                                } catch (JSONException e) {
+                                    e.printStackTrace();
+                                }
+                            }
                         friendAdapter = new friendAdapter(my_contact.this,friendList);
                         mrecyclerView.setAdapter(friendAdapter);
 
+
                     }
                 }, new Response.ErrorListener() {
             @Override
@@ -128,9 +149,67 @@
         });
         RequestQueue requestQueue2 = Volley.newRequestQueue(my_contact.this);
         requestQueue2.add(request);
+    }
+    //抓朋友圖片
+    public void fetchfimage(){
+        String URL =Urls.url1+"/LoginRegister/fetchfriendimg.php?email="+femail;
+        StringRequest request = new StringRequest(Request.Method.GET, URL, new Response.Listener<String>() {
+            @Override
+            public void onResponse(String response) {
+                try {
+                    JSONObject jsonObject = new JSONObject(response);
+                    img2  = jsonObject.getString("image");
+                    System.out.println("有嗎媽嘛啊啊啊啊啊幹幹案案案案站幹"+img2);
+                    imgimg=imgurlString(img2);
+                    ImageList img = new ImageList();
+                    img.setImageUrl(imgimg);
+                    img.setfemail(femail);
+                    imageLists.add(img);
+                    System.out.println(imgimg+"???????????");
+                    //ImageRetriveWithPicasso2();
+                } catch (JSONException e) {
+                    e.printStackTrace();
+                }
+            }
+        }, new Response.ErrorListener() {
+            @Override
+            public void onErrorResponse(VolleyError error) {
+                Toast.makeText(my_contact.this,error.getMessage(),Toast.LENGTH_SHORT).show();
+            }
+        });
+        RequestQueue requestQueue = Volley.newRequestQueue(my_contact.this);
+        requestQueue.add(request);
+        imageListAdapter = new ImageListAdapter(my_contact.this,imageLists);
+        imgrecyclerView.setAdapter(imageListAdapter);
+    }
 
+    public  String imgurlString (String img){
+        return  Urls.url1+"/LoginRegister/images/"+img;
     }
+    //set朋友頭像
+    public void ImageRetriveWithPicasso2() {
+        String imgurl = Urls.url1+"/LoginRegister/images/"+img2;
+        Picasso.with(this)
 
+                .load(imgurl)
+                .placeholder(R.drawable.profile)
+                .fit()
+                // .error(R.drawable.ic_error_black_24dp)
+                .into(img123, new Callback() {
+                    @Override
+                    public void onSuccess() {
+                        // 圖片讀取完成
+                        Toast.makeText(my_contact.this, "Success", Toast.LENGTH_SHORT).show();
+                    }
+
+                    @Override
+                    public void onError() {
+                        // 圖片讀取失敗
+                        //  Toast.makeText(Page8Activity.this, "失敗拉幹", Toast.LENGTH_SHORT).show();
+                    }
+                });
+        System.out.println(imgurl);
+    }
     private void LoadAllfriend() {
 
     }
@@ -164,11 +243,58 @@
         );
         requestQueue.add(jsonObjectRequest);
     }
-    public String mail(){
+    public  void fetchimage(){
+        String URL =Urls.url1+"/LoginRegister/fetchimage.php?email="+getmail;
+        StringRequest request = new StringRequest(Request.Method.GET, URL, new Response.Listener<String>() {
+            @Override
+            public void onResponse(String response) {
+                try {
+                    JSONObject jsonObject = new JSONObject(response);
+                    img  = jsonObject.getString("image");
+
+                    ImageRetriveWithPicasso();
+                } catch (JSONException e) {
+                    e.printStackTrace();
+                }
+            }
+        }, new Response.ErrorListener() {
+            @Override
+            public void onErrorResponse(VolleyError error) {
+                Toast.makeText(my_contact.this,error.getMessage(),Toast.LENGTH_SHORT).show();
+            }
+        });
+        RequestQueue requestQueue = Volley.newRequestQueue(my_contact.this);
+        requestQueue.add(request);
+    }
+    public void ImageRetriveWithPicasso() {
+        String imgurl = Urls.url1+"/LoginRegister/images/"+img;
+        Picasso.with(this)
+
+                .load(imgurl)
+                .placeholder(R.drawable.profile)
+                .fit()
+                // .error(R.drawable.ic_error_black_24dp)
+                .into(mPforfilepic, new Callback() {
+                    @Override
+                    public void onSuccess() {
+                        // 圖片讀取完成
+                        Toast.makeText(my_contact.this, "Success", Toast.LENGTH_SHORT).show();
+                    }
+
+                    @Override
+                    public void onError() {
+                        // 圖片讀取失敗
+                        //  Toast.makeText(Page8Activity.this, "失敗拉幹", Toast.LENGTH_SHORT).show();
+                    }
+                });
+        System.out.println(imgurl);
+    }
+
+    /*public String mail(){
         Bundle extras = getIntent().getExtras();
         if (extras!=null){
             email=extras.getString("email");
         }
         return email;
-    }
+    }*/
 }
\ No newline at end of file
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    package=\"com.example.easybus\">\r\n\r\n    <uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" />\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n    <uses-permission android:name=\"android.permission.READ_PHONE_STATE\" />\r\n    <uses-permission android:name=\"android.permission.CALL_PHONE\" />\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.CAMERA\" />\r\n\r\n    <uses-feature\r\n        android:name=\"android.hardware.camera\"\r\n        android:required=\"true\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\">\r\n        <activity android:name=\".qrscanner\" />\r\n        <activity android:name=\".my_contact\" />\r\n        <activity android:name=\".emergency_contact\" />\r\n        <activity android:name=\".qrcode_page\" />\r\n        <activity android:name=\".edit_password\" />\r\n        <activity\r\n            android:name=\".SelectPicPopupWindow\"\r\n            tools:ignore=\"Instantiatable\" />\r\n        <activity android:name=\".AddFamMember\" />\r\n        <activity android:name=\".edit\" />\r\n        <activity android:name=\".ForgetPassword\" />\r\n        <activity android:name=\".Forgotpassword\" />\r\n        <activity android:name=\".Page801Activity\" />\r\n        <activity android:name=\".Page7falseActivity\" />\r\n        <activity android:name=\".Page7trueActivity\" />\r\n        <activity android:name=\".Page702Activity\" />\r\n        <activity android:name=\".Page701Activity\" />\r\n        <activity android:name=\".Login\" />\r\n        <activity android:name=\".Register\" />\r\n        <activity android:name=\".Page10Activity\" />\r\n        <activity android:name=\".Page9Activity\" />\r\n        <activity android:name=\".Page501Activity\" />\r\n        <activity android:name=\".Login2\" />\r\n        <activity android:name=\".SignUp2\" />\r\n\r\n        <meta-data\r\n            android:name=\"com.google.android.geo.API_KEY\"\r\n            android:value=\"@string/google_maps_key\" />\r\n\r\n        <provider\r\n            android:name=\"androidx.core.content.FileProvider\"\r\n            android:authorities=\"com.example.EasyBus.fileprovider\"\r\n            android:exported=\"false\"\r\n            android:grantUriPermissions=\"true\"\r\n            tools:ignore=\"ExtraText\">\r\n            <meta-data\r\n                android:name=\"android.support.FILE_PROVIDER_PATHS\"\r\n                android:resource=\"@xml/file_paths\" />\r\n        </provider>\r\n\r\n        <activity android:name=\".Page8Activity\" />\r\n        <activity android:name=\".Page7Activity\" />\r\n        <activity android:name=\".Page6Activity\" />\r\n        <activity android:name=\".Page5Activity\" />\r\n        <activity android:name=\".Page4Activity\" />\r\n        <activity android:name=\".Page3Activity\" />\r\n        <activity android:name=\".Page2Activity\" />\r\n        <activity android:name=\".MainActivity\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity\r\n            android:name=\".Capture\"\r\n            android:screenOrientation=\"portrait\"\r\n            android:stateNotNeeded=\"true\"\r\n            android:theme=\"@style/zxing_CaptureTheme\" />\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision 0cb7999d6786448a83ad92a3bfee6809334e1b0d)
+++ app/src/main/AndroidManifest.xml	(date 1630652256289)
@@ -6,7 +6,6 @@
     <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
     <uses-permission android:name="android.permission.INTERNET" />
     <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
-    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
     <uses-permission android:name="android.permission.CALL_PHONE" />
     <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
     <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
@@ -18,35 +17,48 @@
 
     <application
         android:allowBackup="true"
+        android:hardwareAccelerated="false"
         android:icon="@mipmap/ic_launcher"
         android:label="@string/app_name"
+        android:largeHeap="true"
         android:roundIcon="@mipmap/ic_launcher_round"
         android:supportsRtl="true"
         android:theme="@style/AppTheme">
-        <activity android:name=".qrscanner" />
-        <activity android:name=".my_contact" />
-        <activity android:name=".emergency_contact" />
-        <activity android:name=".qrcode_page" />
-        <activity android:name=".edit_password" />
+        <activity android:name=".Page1001Activity"></activity>
+        <activity android:name=".Page70401Activity" />
+        <activity android:name=".Page70301Activity" />
+        <activity android:name=".Page70201Activity" />
+        <activity android:name=".Page70101Activity" />
+        <activity android:name=".Page704Activity" />
+        <activity android:name=".Page703Activity" />
+        <activity android:name=".Page702Activity" />
+        <activity android:name=".take_bus" />
+        <activity android:name=".Page62" />
+        <activity android:name=".Page61" />
         <activity
             android:name=".SelectPicPopupWindow"
             tools:ignore="Instantiatable" />
         <activity android:name=".AddFamMember" />
         <activity android:name=".edit" />
-        <activity android:name=".ForgetPassword" />
+        <activity android:name=".qrscanner" />
+        <activity android:name=".emergency_contact" />
+        <activity android:name=".Page8Activity_caregiver" />
+        <activity android:name=".edit_password" />
+        <activity android:name=".my_contact" />
+        <activity android:name=".qrcode_page" />
         <activity android:name=".Forgotpassword" />
         <activity android:name=".Page801Activity" />
-        <activity android:name=".Page7falseActivity" />
-        <activity android:name=".Page7trueActivity" />
-        <activity android:name=".Page702Activity" />
         <activity android:name=".Page701Activity" />
         <activity android:name=".Login" />
         <activity android:name=".Register" />
         <activity android:name=".Page10Activity" />
         <activity android:name=".Page9Activity" />
-        <activity android:name=".Page501Activity" />
+        <activity android:name=".Page5011Activity" />
+        <activity android:name=".Page5012Activity" />
         <activity android:name=".Login2" />
         <activity android:name=".SignUp2" />
+        <activity android:name=".Login3" />
+        <activity android:name=".Signup3" />
 
         <meta-data
             android:name="com.google.android.geo.API_KEY"
@@ -65,10 +77,10 @@
 
         <activity android:name=".Page8Activity" />
         <activity android:name=".Page7Activity" />
+        <activity android:name=".Page601" />
         <activity android:name=".Page6Activity" />
-        <activity android:name=".Page5Activity" />
+        <activity android:name=".Page3Activity" />
         <activity android:name=".Page4Activity" />
-        <activity android:name=".Page3Activity" />
         <activity android:name=".Page2Activity" />
         <activity android:name=".MainActivity">
             <intent-filter>
Index: app/src/main/res/layout/contact_listview.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:orientation=\"horizontal\"\r\n    android:layout_width=\"356dp\"\r\n    android:layout_height=\"60dp\"\r\n    >\r\n\r\n    <TextView\r\n        android:id=\"@+id/fname\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginStart=\"52dp\"\r\n        android:layout_marginBottom=\"16dp\"\r\n        android:text=\"name\"\r\n        android:textSize=\"24sp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/fphone\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginEnd=\"28dp\"\r\n        android:layout_marginBottom=\"16dp\"\r\n        android:text=\"1234567890\"\r\n        android:textSize=\"24sp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/contact_listview.xml	(revision 0cb7999d6786448a83ad92a3bfee6809334e1b0d)
+++ app/src/main/res/layout/contact_listview.xml	(date 1630652209968)
@@ -2,16 +2,15 @@
 <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:app="http://schemas.android.com/apk/res-auto"
     xmlns:tools="http://schemas.android.com/tools"
-    android:orientation="horizontal"
-    android:layout_width="356dp"
+    android:layout_width="270dp"
     android:layout_height="60dp"
-    >
+    android:orientation="horizontal">
 
     <TextView
         android:id="@+id/fname"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
-        android:layout_marginStart="52dp"
+        android:layout_marginStart="36dp"
         android:layout_marginBottom="16dp"
         android:text="name"
         android:textSize="24sp"
@@ -22,7 +21,7 @@
         android:id="@+id/fphone"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
-        android:layout_marginEnd="28dp"
+        android:layout_marginEnd="16dp"
         android:layout_marginBottom="16dp"
         android:text="1234567890"
         android:textSize="24sp"
Index: .idea/runConfigurations.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"RunConfigurationProducerService\">\r\n    <option name=\"ignoredProducers\">\r\n      <set>\r\n        <option value=\"com.android.tools.idea.compose.preview.runconfiguration.ComposePreviewRunConfigurationProducer\" />\r\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.AllInPackageGradleConfigurationProducer\" />\r\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.TestClassGradleConfigurationProducer\" />\r\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.TestMethodGradleConfigurationProducer\" />\r\n      </set>\r\n    </option>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/runConfigurations.xml	(revision 0cb7999d6786448a83ad92a3bfee6809334e1b0d)
+++ .idea/runConfigurations.xml	(date 1630652246162)
@@ -3,7 +3,6 @@
   <component name="RunConfigurationProducerService">
     <option name="ignoredProducers">
       <set>
-        <option value="com.android.tools.idea.compose.preview.runconfiguration.ComposePreviewRunConfigurationProducer" />
         <option value="org.jetbrains.plugins.gradle.execution.test.runner.AllInPackageGradleConfigurationProducer" />
         <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestClassGradleConfigurationProducer" />
         <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestMethodGradleConfigurationProducer" />
Index: app/src/main/res/layout/activity_page1001.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_page1001.xml	(date 1630652246230)
+++ app/src/main/res/layout/activity_page1001.xml	(date 1630652246230)
@@ -0,0 +1,94 @@
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context=".Page1001Activity">
+
+
+    <View
+        android:id="@+id/top"
+        android:layout_width="405dp"
+        android:layout_height="95dp"
+        android:background="@drawable/round_button"
+        android:visibility="visible"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toTopOf="parent" />
+
+    <ImageButton
+        android:id="@+id/back"
+        android:layout_width="85dp"
+        android:layout_height="85dp"
+        android:layout_marginTop="8dp"
+        android:scaleType="fitCenter"
+        app:layout_constraintEnd_toEndOf="@+id/top"
+        app:layout_constraintHorizontal_bias="0.009"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toTopOf="parent"
+        app:srcCompat="@drawable/back" />
+
+    <ImageView
+        android:id="@+id/iv1"
+        android:layout_width="275dp"
+        android:layout_height="64dp"
+        android:layout_marginTop="16dp"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.395"
+        app:layout_constraintStart_toEndOf="@+id/back"
+        app:layout_constraintTop_toTopOf="parent"
+        app:srcCompat="@drawable/page5up" />
+
+    <ImageView
+        android:id="@+id/iv2"
+        android:layout_width="63dp"
+        android:layout_height="42dp"
+        app:srcCompat="@drawable/calendar"
+        app:layout_constraintTop_toTopOf="@+id/iv1"
+        app:layout_constraintBottom_toBottomOf="@+id/iv1"
+        app:layout_constraintStart_toStartOf="@+id/iv1"
+        app:layout_constraintEnd_toStartOf="@+id/gps_time"
+        tools:layout_editor_absoluteX="122dp"
+        tools:layout_editor_absoluteY="29dp" />
+
+    <TextView
+        android:id="@+id/gps_time"
+        android:layout_width="168dp"
+        android:layout_height="42dp"
+        android:gravity="center"
+        android:text="需求者歷史紀錄"
+        android:textColor="#000000"
+        android:textSize="22sp"
+        android:textStyle="bold"
+        app:layout_constraintBottom_toBottomOf="@+id/iv1"
+        app:layout_constraintEnd_toEndOf="@+id/iv1"
+        app:layout_constraintStart_toEndOf="@+id/iv2"
+        app:layout_constraintTop_toTopOf="@+id/iv1" />
+
+    <ScrollView
+        android:layout_width="324dp"
+        android:layout_height="487dp"
+        android:layout_marginTop="60dp"
+        android:background="@drawable/shape_round"
+        android:fillViewport="true"
+        android:radius="10dp"
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.494"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toBottomOf="@+id/top"
+        app:layout_constraintVertical_bias="0.483">
+
+        <LinearLayout
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:orientation="vertical">
+
+            <androidx.recyclerview.widget.RecyclerView
+                android:layout_width="match_parent"
+                android:layout_height="match_parent" />
+        </LinearLayout>
+    </ScrollView>
+
+</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/google-services.json
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{\r\n  \"project_info\": {\r\n    \"project_number\": \"1066237684460\",\r\n    \"firebase_url\": \"https://easybus-f36e9.firebaseio.com\",\r\n    \"project_id\": \"easybus-f36e9\",\r\n    \"storage_bucket\": \"easybus-f36e9.appspot.com\"\r\n  },\r\n  \"client\": [\r\n    {\r\n      \"client_info\": {\r\n        \"mobilesdk_app_id\": \"1:1066237684460:android:9db6c09bd08528959913c9\",\r\n        \"android_client_info\": {\r\n          \"package_name\": \"com.example.easybus\"\r\n        }\r\n      },\r\n      \"oauth_client\": [\r\n        {\r\n          \"client_id\": \"1066237684460-oqf5ocgp72sepomilq3tb96cm35nlnh4.apps.googleusercontent.com\",\r\n          \"client_type\": 1,\r\n          \"android_info\": {\r\n            \"package_name\": \"com.example.easybus\",\r\n            \"certificate_hash\": \"58807ce5da30fac3b2b973297be286d1743947a3\"\r\n          }\r\n        },\r\n        {\r\n          \"client_id\": \"1066237684460-04u1t8ci16l7p1c0dsq18304o805hn5p.apps.googleusercontent.com\",\r\n          \"client_type\": 3\r\n        }\r\n      ],\r\n      \"api_key\": [\r\n        {\r\n          \"current_key\": \"AIzaSyDRImYvIyRmi4q1XixWy2oqus3QSL_GQNc\"\r\n        }\r\n      ],\r\n      \"services\": {\r\n        \"appinvite_service\": {\r\n          \"other_platform_oauth_client\": [\r\n            {\r\n              \"client_id\": \"1066237684460-04u1t8ci16l7p1c0dsq18304o805hn5p.apps.googleusercontent.com\",\r\n              \"client_type\": 3\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  \"configuration_version\": \"1\"\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/google-services.json	(revision 0cb7999d6786448a83ad92a3bfee6809334e1b0d)
+++ app/google-services.json	(date 1627896450602)
@@ -15,6 +15,14 @@
       },
       "oauth_client": [
         {
+          "client_id": "1066237684460-g03u7ji1cr9o3mj0vjb5ptqsghpg67jb.apps.googleusercontent.com",
+          "client_type": 1,
+          "android_info": {
+            "package_name": "com.example.easybus",
+            "certificate_hash": "58639c1aa2ef9fac8bc6a1ddf32784960fe17d20"
+          }
+        },
+        {
           "client_id": "1066237684460-oqf5ocgp72sepomilq3tb96cm35nlnh4.apps.googleusercontent.com",
           "client_type": 1,
           "android_info": {
Index: app/src/main/res/layout/img_item.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/img_item.xml	(date 1630652246172)
+++ app/src/main/res/layout/img_item.xml	(date 1630652246172)
@@ -0,0 +1,17 @@
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="80dp"
+    android:layout_height="60dp"
+    android:orientation="horizontal"
+    >
+
+    <ImageView
+        android:id="@+id/imageView3"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintStart_toStartOf="parent"
+        tools:srcCompat="@tools:sample/avatars" />
+</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/easybus/ImageList.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.easybus;\r\n\r\npublic class ImageList {\r\n    private String imageUrl;\r\n\r\n    public  ImageList(String imageUrl){\r\n        this.imageUrl=imageUrl;\r\n    }\r\n\r\n    public ImageList(){\r\n    }\r\n    public String getImageUrl(){\r\n        return imageUrl;\r\n    }\r\n    public  void  setImageUrl(String imageUrl){\r\n        this.imageUrl = imageUrl;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/easybus/ImageList.java	(revision 0cb7999d6786448a83ad92a3bfee6809334e1b0d)
+++ app/src/main/java/com/example/easybus/ImageList.java	(date 1630652209986)
@@ -2,13 +2,15 @@
 
 public class ImageList {
     private String imageUrl;
+    private String femail;
 
-    public  ImageList(String imageUrl){
-        this.imageUrl=imageUrl;
+    public String getfemail(){
+        return femail;
     }
-
-    public ImageList(){
+    public  void  setfemail(String femail){
+        this.femail = femail;
     }
+
     public String getImageUrl(){
         return imageUrl;
     }
Index: app/src/main/java/com/example/easybus/Page1001Activity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/easybus/Page1001Activity.java	(date 1630652246152)
+++ app/src/main/java/com/example/easybus/Page1001Activity.java	(date 1630652246152)
@@ -0,0 +1,30 @@
+package com.example.easybus;
+
+import androidx.appcompat.app.ActionBar;
+import androidx.appcompat.app.AppCompatActivity;
+
+import android.content.Intent;
+import android.os.Bundle;
+import android.view.View;
+import android.widget.ImageButton;
+
+public class Page1001Activity extends AppCompatActivity {
+
+    @Override
+    protected void onCreate(Bundle savedInstanceState) {
+        super.onCreate(savedInstanceState);
+        setContentView(R.layout.activity_page1001);
+        //隱藏title bar
+        ActionBar actionBar = getSupportActionBar();
+        actionBar.hide();
+        //跳頁回家長主頁
+        ImageButton back = (ImageButton)findViewById(R.id.back);
+        back.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+                Intent it1 = new Intent(Page1001Activity.this,Page4Activity.class);
+                startActivity(it1);
+            }
+        });
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/example/easybus/friend.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.easybus;\r\n\r\npublic class friend {\r\n    String F_name,F_phone;\r\n\r\n    public String getF_phone() {\r\n        return F_phone;\r\n    }\r\n\r\n    public void setF_phone(String f_phone) {\r\n        F_phone = f_phone;\r\n    }\r\n\r\n    public String getF_name() {\r\n        return F_name;\r\n    }\r\n\r\n    public void setF_name(String f_name) {\r\n        F_name = f_name;\r\n    }\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/easybus/friend.java	(revision 0cb7999d6786448a83ad92a3bfee6809334e1b0d)
+++ app/src/main/java/com/example/easybus/friend.java	(date 1630652209996)
@@ -1,7 +1,7 @@
 package com.example.easybus;
 
 public class friend {
-    String F_name,F_phone;
+    String F_name,F_phone,F_email;
 
     public String getF_phone() {
         return F_phone;
@@ -18,6 +18,13 @@
     public void setF_name(String f_name) {
         F_name = f_name;
     }
+    public String getF_email() {
+        return F_email;
+    }
+
+    public void setF_email(String f_email) {
+        F_email = f_email;
+    }
 
 
 }
Index: app/src/main/java/com/example/easybus/Urls.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.easybus;\r\nimport java.net.InetAddress;\r\nimport java.net.UnknownHostException;\r\n\r\npublic class Urls {\r\n    //private static InetAddress ip;\r\n    public static String url1 = \"http://192.168.0.126\";\r\n    //public static String url1 = \"http://8c708b26959c.ngrok.io\";\r\n    public static void main(String args[]) {\r\n\r\n        /*try {\r\n            ip = InetAddress.getLocalHost();\r\n            System.out.println(ip.getHostAddress());\r\n        } catch (UnknownHostException e) {\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }*/\r\n\r\n\r\n\r\n    }\r\n    //static String ROOT_URL = url1+url2+url3;\r\n    //static String FORGOT_PASSWORD_URL = \"http://192.168.27.107/LoginRegister/\" + \"forgot.php\";\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/easybus/Urls.java	(revision 0cb7999d6786448a83ad92a3bfee6809334e1b0d)
+++ app/src/main/java/com/example/easybus/Urls.java	(date 1630652246198)
@@ -4,7 +4,7 @@
 
 public class Urls {
     //private static InetAddress ip;
-    public static String url1 = "http://192.168.0.126";
+    public static String url1 = "http://192.168.137.1";
     //public static String url1 = "http://8c708b26959c.ngrok.io";
     public static void main(String args[]) {
 
Index: app/src/main/java/com/example/easybus/ImageListAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/easybus/ImageListAdapter.java	(date 1630652246143)
+++ app/src/main/java/com/example/easybus/ImageListAdapter.java	(date 1630652246143)
@@ -0,0 +1,51 @@
+package com.example.easybus;
+
+import android.content.Context;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ImageView;
+
+import androidx.annotation.NonNull;
+import androidx.recyclerview.widget.RecyclerView;
+
+import com.bumptech.glide.Glide;
+import com.squareup.picasso.Picasso;
+
+import java.util.List;
+
+public class ImageListAdapter extends RecyclerView.Adapter<ImageListAdapter.ViewHolder> {
+    List<ImageList> imageLists;
+    Context context;
+    public ImageListAdapter(Context context,List<ImageList> imageLists) {
+        this.context = context;
+        this.imageLists = imageLists;
+    }
+
+
+
+    @NonNull
+    @Override
+    public ImageListAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
+        View imagelayout = LayoutInflater.from(parent.getContext()).inflate(R.layout.img_item,parent,false);
+        return new ImageListAdapter.ViewHolder(imagelayout);
+    }
+
+    @Override
+    public void onBindViewHolder(@NonNull ImageListAdapter.ViewHolder holder, int position) {
+        ImageList i = imageLists.get(position);
+        Glide.with(context).load(i.getImageUrl()).into(holder.img);
+    }
+
+    @Override
+    public int getItemCount() {
+        return imageLists.size();
+    }
+    public static class ViewHolder extends RecyclerView.ViewHolder{
+        ImageView img;
+        public ViewHolder(@NonNull View itemView) {
+            super(itemView);
+            img = itemView.findViewById(R.id.imageView3);
+        }
+    }
+}
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_13\" default=\"true\" project-jdk-name=\"13\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n  <component name=\"ProjectType\">\r\n    <option name=\"id\" value=\"Android\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/misc.xml	(revision 0cb7999d6786448a83ad92a3bfee6809334e1b0d)
+++ .idea/misc.xml	(date 1630652246208)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
-  <component name="ProjectRootManager" version="2" languageLevel="JDK_13" default="true" project-jdk-name="13" project-jdk-type="JavaSDK">
+  <component name="ProjectRootManager" version="2" languageLevel="JDK_1_8" default="false" project-jdk-name="13" project-jdk-type="JavaSDK">
     <output url="file://$PROJECT_DIR$/build/classes" />
   </component>
   <component name="ProjectType">
Index: .idea/compiler.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"CompilerConfiguration\">\r\n    <bytecodeTargetLevel target=\"13\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/compiler.xml	(revision 0cb7999d6786448a83ad92a3bfee6809334e1b0d)
+++ .idea/compiler.xml	(date 1630652246221)
@@ -1,6 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="CompilerConfiguration">
-    <bytecodeTargetLevel target="13" />
+    <bytecodeTargetLevel target="1.8" />
   </component>
 </project>
\ No newline at end of file
