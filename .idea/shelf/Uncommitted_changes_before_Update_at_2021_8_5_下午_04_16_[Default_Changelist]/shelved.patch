Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    package=\"com.example.easybus\">\r\n\r\n    <uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" />\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n    <uses-permission android:name=\"android.permission.CALL_PHONE\" />\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.CAMERA\" />\r\n\r\n    <uses-feature\r\n        android:name=\"android.hardware.camera\"\r\n        android:required=\"true\" />\r\n\r\n    <application\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\">\r\n        <activity android:name=\".Page62\"></activity>\r\n        <activity android:name=\".Page61\" />\r\n        <activity\r\n            android:name=\".SelectPicPopupWindow\"\r\n            tools:ignore=\"Instantiatable\" />\r\n        <activity android:name=\".AddFamMember\" />\r\n        <activity android:name=\".edit\" />\r\n        <activity android:name=\".qrscanner\" />\r\n        <activity android:name=\".emergency_contact\" />\r\n        <activity android:name=\".Page8Activity_caregiver\" />\r\n        <activity android:name=\".edit_password\" />\r\n        <activity android:name=\".my_contact\" />\r\n        <activity android:name=\".qrcode_page\" />\r\n        <activity android:name=\".Forgotpassword\" />\r\n        <activity android:name=\".Page801Activity\" />\r\n        <activity android:name=\".Page7falseActivity\" />\r\n        <activity android:name=\".Page7trueActivity\" />\r\n        <activity android:name=\".Page702Activity\" />\r\n        <activity android:name=\".Page701Activity\" />\r\n        <activity android:name=\".Login\" />\r\n        <activity android:name=\".Register\" />\r\n        <activity android:name=\".Page10Activity\" />\r\n        <activity android:name=\".Page9Activity\" />\r\n        <activity android:name=\".Page5011Activity\" />\r\n        <activity android:name=\".Page5012Activity\" />\r\n        <activity android:name=\".Login2\" />\r\n        <activity android:name=\".SignUp2\" />\r\n        <activity android:name=\".Login3\" />\r\n        <activity android:name=\".Signup3\" />\r\n\r\n        <meta-data\r\n            android:name=\"com.google.android.geo.API_KEY\"\r\n            android:value=\"@string/google_maps_key\" />\r\n\r\n        <provider\r\n            android:name=\"androidx.core.content.FileProvider\"\r\n            android:authorities=\"com.example.EasyBus.fileprovider\"\r\n            android:exported=\"false\"\r\n            android:grantUriPermissions=\"true\"\r\n            tools:ignore=\"ExtraText\">\r\n            <meta-data\r\n                android:name=\"android.support.FILE_PROVIDER_PATHS\"\r\n                android:resource=\"@xml/file_paths\" />\r\n        </provider>\r\n\r\n        <activity android:name=\".Page8Activity\" />\r\n        <activity android:name=\".Page7Activity\" />\r\n        <activity android:name=\".Page601\" />\r\n        <activity android:name=\".Page6Activity\" />\r\n        <activity android:name=\".Page3Activity\" />\r\n        <activity android:name=\".MainActivity\" />\r\n        <activity android:name=\".Page2Activity\" />\r\n        <activity android:name=\".Page4Activity\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity\r\n            android:name=\".Capture\"\r\n            android:screenOrientation=\"portrait\"\r\n            android:stateNotNeeded=\"true\"\r\n            android:theme=\"@style/zxing_CaptureTheme\" />\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/AndroidManifest.xml	(revision 8a61142f99c2fe1cdbac342560a195144c58afc7)
+++ app/src/main/AndroidManifest.xml	(date 1628151358484)
@@ -72,9 +72,10 @@
         <activity android:name=".Page601" />
         <activity android:name=".Page6Activity" />
         <activity android:name=".Page3Activity" />
-        <activity android:name=".MainActivity" />
+        <activity android:name=".Page4Activity"/>
+
         <activity android:name=".Page2Activity" />
-        <activity android:name=".Page4Activity">
+            <activity android:name=".MainActivity" >
             <intent-filter>
                 <action android:name="android.intent.action.MAIN" />
 
Index: app/src/main/java/com/example/easybus/Page5012Activity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.easybus;\r\n\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.app.ProgressDialog;\r\nimport android.content.Context;\r\nimport android.graphics.ColorMatrix;\r\nimport android.graphics.ColorMatrixColorFilter;\r\nimport android.graphics.drawable.ColorDrawable;\r\nimport android.os.Bundle;\r\nimport android.view.Gravity;\r\nimport android.view.LayoutInflater;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.PopupWindow;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.JsonObjectRequest;\r\nimport com.android.volley.toolbox.Volley;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Page5012Activity extends AppCompatActivity {\r\n\r\n    private static final String DIRECTION_URL_API = \"https://maps.googleapis.com/maps/api/directions/json?\";\r\n    private static final String GOOGLE_API_KEY = \"AIzaSyCr_-3KbvHxSm9Gb38l7M2E_b8qzwHhcTI\";\r\n    String url,urlOrigin,urlDestination,title2;\r\n    ImageView mImg,mBack,mAdd;\r\n    RecyclerView recyclerView;\r\n    BusInfoAdaptor adaptor;\r\n    ArrayList<BusInfo> businfos;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_page5012);\r\n\r\n        //隱藏title bar\r\n        ActionBar actionBar = getSupportActionBar();\r\n        actionBar.hide();\r\n\r\n        //取值(origin,destination)\r\n        Bundle bundle = getIntent().getExtras();\r\n        urlOrigin= bundle.getString(\"origin2\");\r\n        urlDestination= bundle.getString(\"destination2\");\r\n\r\n        url=DIRECTION_URL_API+\"origin=\"+urlOrigin+\"&destination=\"+urlDestination+\"&mode=transit&transit_mode=bus&language=zh-TW&key=\"+GOOGLE_API_KEY;\r\n\r\n        mImg=findViewById(R.id.img);\r\n        mBack=findViewById(R.id.backicon);\r\n        mAdd=findViewById(R.id.addIcon);\r\n        recyclerView=findViewById(R.id.busInfo);\r\n\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        adaptor=new BusInfoAdaptor();\r\n        recyclerView.setAdapter(adaptor);\r\n        businfos=new ArrayList<>();\r\n        getData();\r\n\r\n        mAdd.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                //實例化mPopupWindow\r\n                popupWindow popupWin=new popupWindow(Page5012Activity.this);\r\n                View view= LayoutInflater.from(Page5012Activity.this).inflate(R.layout.page5012popupwindow,null);\r\n                //設計彈出框\r\n                popupWin.showAtLocation(view,Gravity.CENTER,0,0);\r\n            }\r\n        });\r\n\r\n        mBack.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                finish();\r\n            }\r\n        });\r\n    }\r\n\r\n    private void getData() { //抓公車JSON\r\n        final ProgressDialog progressDialog=new ProgressDialog(this);\r\n        progressDialog.setMessage(\"載入中...\");\r\n        progressDialog.show();\r\n\r\n        final JsonObjectRequest jsonObjectRequest=new JsonObjectRequest(url,null, new Response.Listener<JSONObject>() {\r\n            @Override\r\n            public void onResponse(JSONObject response) {\r\n                try{\r\n                    JSONArray ArrayRoutes = response.getJSONArray(\"routes\");\r\n                    JSONArray ArrayLegs =ArrayRoutes.getJSONObject(0).getJSONArray(\"legs\");\r\n                    JSONArray ArraySteps =ArrayLegs.getJSONObject(0).getJSONArray(\"steps\");\r\n\r\n                    for(int i=0;i<ArraySteps.length();i++){\r\n                        JSONObject ObjSteps=ArraySteps.getJSONObject(i);\r\n                        String travelMode=ObjSteps.getString(\"travel_mode\");\r\n                        BusInfo businfo=new BusInfo();\r\n\r\n                        if (travelMode.equals(\"WALKING\")) {\r\n                            String Htmlinstructions=ObjSteps.getString(\"html_instructions\");\r\n                            businfo.setHtmlinstructions(Htmlinstructions.substring(3));\r\n                            businfo.setShortname(null);\r\n                            businfo.setPic(1);\r\n                        }else{\r\n                            businfo.setHtmlinstructions (ObjSteps.getJSONObject(\"transit_details\").getJSONObject(\"arrival_stop\").getString(\"name\"));\r\n                            businfo.setShortname(ObjSteps.getJSONObject(\"transit_details\").getJSONObject(\"line\").getString(\"short_name\"));\r\n                            businfo.setPic(0);\r\n                        }\r\n                        businfos.add(businfo);\r\n                    }\r\n                }catch (JSONException e){\r\n                    Toast.makeText(Page5012Activity.this,e.getMessage()+\"錯誤1\",Toast.LENGTH_LONG).show();\r\n                }\r\n                adaptor.setData(businfos);\r\n                adaptor.notifyDataSetChanged();\r\n                progressDialog.dismiss();\r\n            }\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                progressDialog.dismiss();\r\n                Toast.makeText(Page5012Activity.this,\"發生錯誤1111!\",Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n\r\n        RequestQueue requestQueue= Volley.newRequestQueue(this);\r\n        requestQueue.add(jsonObjectRequest);\r\n    }\r\n\r\n    //標題popupwindow\r\n    public class popupWindow extends PopupWindow implements View.OnClickListener {\r\n        View view;\r\n        EditText mTitle;\r\n        TextView mNext;\r\n\r\n        public popupWindow(Context mContext) {\r\n            //動態頁面載入\r\n            view = LayoutInflater.from(mContext).inflate(R.layout.page5012popupwindow, null);\r\n            mTitle = view.findViewById(R.id.title);\r\n            mNext = view.findViewById(R.id.next);\r\n            //下一步前檢查是否有輸入標題\r\n            mNext.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    TitleRequest(); //檢查標題是否為空\r\n                }\r\n            });\r\n            //設置PopupWindow的View\r\n            this.setContentView(view);\r\n            //設置PopupWindow彈出框的高\r\n            this.setHeight(RelativeLayout.LayoutParams.MATCH_PARENT);\r\n            //設置PopupWindow彈出框的寬\r\n            this.setWidth(RelativeLayout.LayoutParams.MATCH_PARENT);\r\n            //設置mPopupWindow彈出框可點擊\r\n            this.setFocusable(true);\r\n            //實例化一個ColorDrawable顏色為半透明\r\n            ColorDrawable dw = new ColorDrawable(0xb0000000);\r\n            //設置PopupWindow彈出框的背景\r\n            this.setBackgroundDrawable(dw);\r\n            //設置PopupWindow點框外銷毀\r\n            this.setOutsideTouchable(true);\r\n            view.setOnTouchListener(new View.OnTouchListener() {\r\n                @Override\r\n                public boolean onTouch(View v, MotionEvent motionEvent) {\r\n                    int top=view.findViewById(R.id.img).getTop();\r\n                    int bottom=view.findViewById(R.id.img).getBottom();\r\n                    int left=view.findViewById(R.id.img).getLeft();\r\n                    int right=view.findViewById(R.id.img).getRight();\r\n                    int y=(int)motionEvent.getY();\r\n                    int x=(int)motionEvent.getX();\r\n                    if (motionEvent.getAction()==MotionEvent.ACTION_UP){\r\n                        if (y<top || y>bottom || x<left || x>right)\r\n                            dismiss();\r\n                    }\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n        @Override\r\n        public void onClick(View V) {\r\n        }\r\n\r\n        //檢查標題是否為空(如不是:選擇圖片)\r\n        public void TitleRequest(){\r\n            title2=mTitle.getText().toString().trim();\r\n            if (title2.isEmpty()){\r\n                Toast.makeText(Page5012Activity.this, \"請輸入標題\", Toast.LENGTH_LONG).show();\r\n                return;\r\n            }else{  //選擇圖片popupwindow\r\n                //銷毀第一個popupwindow\r\n                dismiss();\r\n                //實例化PopupPhoto\r\n                popupSelPhoto popupPhoto=new popupSelPhoto(Page5012Activity.this);\r\n                View v=LayoutInflater.from(Page5012Activity.this).inflate(R.layout.page5012popupphoto,null);\r\n                //設計彈出框\r\n                popupPhoto.showAtLocation(v,Gravity.CENTER,0,0);\r\n            }\r\n        }\r\n    }\r\n\r\n    //標題popupSelPhoto\r\n    public class popupSelPhoto extends PopupWindow implements View.OnClickListener{\r\n        View v;\r\n        ImageView mWork,mHome,mPlay,mShopping,mSaveImg;\r\n        int choose=0;\r\n\r\n        public popupSelPhoto(Context mContext2) {\r\n            //動態頁面載入\r\n            v = LayoutInflater.from(mContext2).inflate(R.layout.page5012popupphoto, null);\r\n\r\n            mWork=v.findViewById(R.id.work);\r\n            mHome=v.findViewById(R.id.home);\r\n            mPlay=v.findViewById(R.id.play);\r\n            mShopping=v.findViewById(R.id.shopping);\r\n            mSaveImg=v.findViewById(R.id.saveImg);\r\n\r\n            //設置PopupWindow的View\r\n            this.setContentView(v);\r\n            //設置PopupWindow彈出框的高\r\n            this.setHeight(RelativeLayout.LayoutParams.MATCH_PARENT);\r\n            //設置PopupWindow彈出框的寬\r\n            this.setWidth(RelativeLayout.LayoutParams.MATCH_PARENT);\r\n            //設置mPopupWindow彈出框可點擊\r\n            this.setFocusable(true);\r\n            //實例化一個ColorDrawable顏色為半透明\r\n            ColorDrawable dw = new ColorDrawable(0xb0000000);\r\n            //設置PopupWindow彈出框的背景\r\n            this.setBackgroundDrawable(dw);\r\n            //設置PopupWindow點框外銷毀\r\n            this.setOutsideTouchable(true);\r\n            v.setOnTouchListener(new View.OnTouchListener() {\r\n                @Override\r\n                public boolean onTouch(View view, MotionEvent motionEvent) {\r\n                    int height=v.findViewById(R.id.selphotobg).getHeight();\r\n                    int y=(int)motionEvent.getY();\r\n                    if (motionEvent.getAction()==MotionEvent.ACTION_UP){\r\n                        if (y<height){\r\n                            dismiss();\r\n                        }\r\n                    }\r\n                    return true;\r\n                }\r\n            });\r\n\r\n            mWork.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    choose=1;\r\n                    if (choose==1){\r\n                        mWork.setImageResource(R.drawable.working1);\r\n                        mHome.setImageResource(R.drawable.home);\r\n                        mPlay.setImageResource(R.drawable.play);\r\n                        mShopping.setImageResource(R.drawable.shopping);\r\n                    }\r\n                }\r\n            });\r\n\r\n            mHome.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    choose=2;\r\n                    if (choose==2){\r\n                        mHome.setImageResource(R.drawable.home1);\r\n                        mWork.setImageResource(R.drawable.working);\r\n                        mPlay.setImageResource(R.drawable.play);\r\n                        mShopping.setImageResource(R.drawable.shopping);\r\n                    }\r\n                }\r\n            });\r\n\r\n            mPlay.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    choose=3;\r\n                    if (choose==3){\r\n                        mPlay.setImageResource(R.drawable.play1);\r\n                        mWork.setImageResource(R.drawable.working);\r\n                        mHome.setImageResource(R.drawable.home);\r\n                        mShopping.setImageResource(R.drawable.shopping);\r\n                    }\r\n                }\r\n            });\r\n\r\n            mShopping.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    choose=4;\r\n                    if (choose==4){\r\n                        mShopping.setImageResource(R.drawable.shopping1);\r\n                        mWork.setImageResource(R.drawable.working);\r\n                        mHome.setImageResource(R.drawable.home);\r\n                        mPlay.setImageResource(R.drawable.play);\r\n                    }\r\n                }\r\n            });\r\n\r\n            mSaveImg.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    choose+=1;\r\n                    if (choose>=2 && choose<=5){ //有選擇照片\r\n                        dismiss();\r\n                        //將資訊存入資料庫\r\n\r\n                        Toast.makeText(Page5012Activity.this,\"路線儲存成功！\",Toast.LENGTH_LONG).show();\r\n                    }else{ //沒有選照片\r\n                        Toast.makeText(Page5012Activity.this,\"請選擇圖片！\",Toast.LENGTH_LONG).show();\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n        }\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/easybus/Page5012Activity.java	(revision 8a61142f99c2fe1cdbac342560a195144c58afc7)
+++ app/src/main/java/com/example/easybus/Page5012Activity.java	(date 1628151358529)
@@ -1,5 +1,6 @@
 package com.example.easybus;
 
+import androidx.annotation.Nullable;
 import androidx.appcompat.app.ActionBar;
 import androidx.appcompat.app.AppCompatActivity;
 import androidx.recyclerview.widget.LinearLayoutManager;
@@ -7,6 +8,7 @@
 
 import android.app.ProgressDialog;
 import android.content.Context;
+import android.content.SharedPreferences;
 import android.graphics.ColorMatrix;
 import android.graphics.ColorMatrixColorFilter;
 import android.graphics.drawable.ColorDrawable;
@@ -22,10 +24,13 @@
 import android.widget.TextView;
 import android.widget.Toast;
 
+import com.android.volley.AuthFailureError;
+import com.android.volley.Request;
 import com.android.volley.RequestQueue;
 import com.android.volley.Response;
 import com.android.volley.VolleyError;
 import com.android.volley.toolbox.JsonObjectRequest;
+import com.android.volley.toolbox.StringRequest;
 import com.android.volley.toolbox.Volley;
 
 import org.json.JSONArray;
@@ -33,17 +38,19 @@
 import org.json.JSONObject;
 
 import java.util.ArrayList;
+import java.util.HashMap;
+import java.util.Map;
 
 public class Page5012Activity extends AppCompatActivity {
 
     private static final String DIRECTION_URL_API = "https://maps.googleapis.com/maps/api/directions/json?";
     private static final String GOOGLE_API_KEY = "AIzaSyCr_-3KbvHxSm9Gb38l7M2E_b8qzwHhcTI";
-    String url,urlOrigin,urlDestination,title2;
+    String url,urlOrigin,urlDestination,title2,getmail;
     ImageView mImg,mBack,mAdd;
     RecyclerView recyclerView;
     BusInfoAdaptor adaptor;
     ArrayList<BusInfo> businfos;
-
+    RequestQueue requestQueue1;
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -88,8 +95,49 @@
                 finish();
             }
         });
+
+        requestQueue1 = Volley.newRequestQueue(this);
+        SharedPreferences email = getSharedPreferences("email",MODE_PRIVATE);
+        getmail=email.getString("Email","");
+
     }
-
+    //儲存常用路線與名稱
+    public void savebusinfo(final String email,final String routename,final String route){
+        String URL =Urls.url1+"/LoginRegister/save_businfo.php";
+        //
+        StringRequest stringRequest = new StringRequest(
+                Request.Method.POST,
+                URL,
+                new Response.Listener<String>() {
+                    @Override
+                    public void onResponse(String response) {
+                        if(response.equals("Success")){
+                            Toast.makeText(Page5012Activity.this, "加入成功 !", Toast.LENGTH_SHORT).show();
+                        }else{
+                            Toast.makeText(Page5012Activity.this, "已為聯絡人", Toast.LENGTH_SHORT).show();
+                        }
+                    }
+                },
+                new Response.ErrorListener() {
+                    @Override
+                    public void onErrorResponse(VolleyError error) {
+                        Toast.makeText(Page5012Activity.this, error.toString(), Toast.LENGTH_SHORT).show();
+                    }
+                }
+        ) {
+            @Nullable
+            @Override
+            protected Map<String, String> getParams() throws AuthFailureError {
+                Map<String, String> parms = new HashMap<>();
+                //引號內是key值;
+                parms.put("email", getmail);
+                parms.put("routename", routename);
+                parms.put("route", route);
+                return parms;
+            }
+        };
+        requestQueue1.add(stringRequest);
+    }
     private void getData() { //抓公車JSON
         final ProgressDialog progressDialog=new ProgressDialog(this);
         progressDialog.setMessage("載入中...");
@@ -200,12 +248,16 @@
                 return;
             }else{  //選擇圖片popupwindow
                 //銷毀第一個popupwindow
+                System.out.println(getmail);
+                System.out.println(url);
+                savebusinfo(getmail,title2,url);
                 dismiss();
                 //實例化PopupPhoto
                 popupSelPhoto popupPhoto=new popupSelPhoto(Page5012Activity.this);
                 View v=LayoutInflater.from(Page5012Activity.this).inflate(R.layout.page5012popupphoto,null);
                 //設計彈出框
                 popupPhoto.showAtLocation(v,Gravity.CENTER,0,0);
+                System.out.println(title2);
             }
         }
     }
@@ -257,6 +309,7 @@
             mWork.setOnClickListener(new View.OnClickListener() {
                 @Override
                 public void onClick(View view) {
+                 
                     choose=1;
                     if (choose==1){
                         mWork.setImageResource(R.drawable.working1);
Index: app/src/main/java/com/example/easybus/Urls.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.easybus;\r\nimport java.net.InetAddress;\r\nimport java.net.UnknownHostException;\r\n\r\npublic class Urls {\r\n    //private static InetAddress ip;/////\r\n    public static String url1 = \"http://192.168.0.127\";\r\n    //public static String url1 = \"http://8c708b26959c.ngrok.io\";\r\n    public static void main(String args[]) {\r\n\r\n        /*try {\r\n            ip = InetAddress.getLocalHost();\r\n            System.out.println(ip.getHostAddress());\r\n        } catch (UnknownHostException e) {\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }*/\r\n\r\n\r\n\r\n    }\r\n    //static String ROOT_URL = url1+url2+url3;\r\n    //static String FORGOT_PASSWORD_URL = \"http://192.168.27.107/LoginRegister/\" + \"forgot.php\";\r\n//搞不清楚 你不是說要用appple 對阿 可是不能merge 現在又說EasyBus 有問題\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/easybus/Urls.java	(revision 8a61142f99c2fe1cdbac342560a195144c58afc7)
+++ app/src/main/java/com/example/easybus/Urls.java	(date 1628151358575)
@@ -4,7 +4,7 @@
 
 public class Urls {
     //private static InetAddress ip;/////
-    public static String url1 = "http://192.168.0.127";
+    public static String url1 = "http://192.168.0.126";
     //public static String url1 = "http://8c708b26959c.ngrok.io";
     public static void main(String args[]) {
 
Index: .idea/shelf/Uncommitted_changes_before_Checkout_at_2021_7_28_下午_04_14_[Default_Changelist]/shelved.patch
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Checkout_at_2021_7_28_下午_04_14_[Default_Changelist]/shelved.patch	(revision 8a61142f99c2fe1cdbac342560a195144c58afc7)
+++ .idea/shelf/Uncommitted_changes_before_Checkout_at_2021_7_28_下午_04_14_[Default_Changelist]/shelved.patch	(revision 8a61142f99c2fe1cdbac342560a195144c58afc7)
@@ -1,70 +0,0 @@
-Index: .idea/compiler.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"CompilerConfiguration\">\r\n    <bytecodeTargetLevel target=\"13\" />\r\n  </component>\r\n</project>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- .idea/compiler.xml	(revision 0cb7999d6786448a83ad92a3bfee6809334e1b0d)
-+++ .idea/compiler.xml	(date 1627459798938)
-@@ -1,6 +1,6 @@
- <?xml version="1.0" encoding="UTF-8"?>
- <project version="4">
-   <component name="CompilerConfiguration">
--    <bytecodeTargetLevel target="13" />
-+    <bytecodeTargetLevel target="1.8" />
-   </component>
- </project>
-\ No newline at end of file
-Index: app/src/main/java/com/example/easybus/Urls.java
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+>package com.example.easybus;\r\nimport java.net.InetAddress;\r\nimport java.net.UnknownHostException;\r\n\r\npublic class Urls {\r\n    //private static InetAddress ip;\r\n    public static String url1 = \"http://192.168.0.126\";\r\n    //public static String url1 = \"http://8c708b26959c.ngrok.io\";\r\n    public static void main(String args[]) {\r\n\r\n        /*try {\r\n            ip = InetAddress.getLocalHost();\r\n            System.out.println(ip.getHostAddress());\r\n        } catch (UnknownHostException e) {\r\n            e.printStackTrace();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }*/\r\n\r\n\r\n\r\n    }\r\n    //static String ROOT_URL = url1+url2+url3;\r\n    //static String FORGOT_PASSWORD_URL = \"http://192.168.27.107/LoginRegister/\" + \"forgot.php\";\r\n\r\n}
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- app/src/main/java/com/example/easybus/Urls.java	(revision 0cb7999d6786448a83ad92a3bfee6809334e1b0d)
-+++ app/src/main/java/com/example/easybus/Urls.java	(date 1627460018695)
-@@ -4,7 +4,7 @@
- 
- public class Urls {
-     //private static InetAddress ip;
--    public static String url1 = "http://192.168.0.126";
-+    public static String url1 = "http://192.168.0.118";
-     //public static String url1 = "http://8c708b26959c.ngrok.io";
-     public static void main(String args[]) {
- 
-Index: .idea/misc.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_13\" default=\"true\" project-jdk-name=\"13\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n  <component name=\"ProjectType\">\r\n    <option name=\"id\" value=\"Android\" />\r\n  </component>\r\n</project>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- .idea/misc.xml	(revision 0cb7999d6786448a83ad92a3bfee6809334e1b0d)
-+++ .idea/misc.xml	(date 1627459798927)
-@@ -1,6 +1,6 @@
- <?xml version="1.0" encoding="UTF-8"?>
- <project version="4">
--  <component name="ProjectRootManager" version="2" languageLevel="JDK_13" default="true" project-jdk-name="13" project-jdk-type="JavaSDK">
-+  <component name="ProjectRootManager" version="2" languageLevel="JDK_1_8" default="false" project-jdk-name="13" project-jdk-type="JavaSDK">
-     <output url="file://$PROJECT_DIR$/build/classes" />
-   </component>
-   <component name="ProjectType">
-Index: .idea/runConfigurations.xml
-IDEA additional info:
-Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
-<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"RunConfigurationProducerService\">\r\n    <option name=\"ignoredProducers\">\r\n      <set>\r\n        <option value=\"com.android.tools.idea.compose.preview.runconfiguration.ComposePreviewRunConfigurationProducer\" />\r\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.AllInPackageGradleConfigurationProducer\" />\r\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.TestClassGradleConfigurationProducer\" />\r\n        <option value=\"org.jetbrains.plugins.gradle.execution.test.runner.TestMethodGradleConfigurationProducer\" />\r\n      </set>\r\n    </option>\r\n  </component>\r\n</project>
-Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
-<+>UTF-8
-===================================================================
---- .idea/runConfigurations.xml	(revision 0cb7999d6786448a83ad92a3bfee6809334e1b0d)
-+++ .idea/runConfigurations.xml	(date 1627459798959)
-@@ -3,7 +3,6 @@
-   <component name="RunConfigurationProducerService">
-     <option name="ignoredProducers">
-       <set>
--        <option value="com.android.tools.idea.compose.preview.runconfiguration.ComposePreviewRunConfigurationProducer" />
-         <option value="org.jetbrains.plugins.gradle.execution.test.runner.AllInPackageGradleConfigurationProducer" />
-         <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestClassGradleConfigurationProducer" />
-         <option value="org.jetbrains.plugins.gradle.execution.test.runner.TestMethodGradleConfigurationProducer" />
Index: .idea/shelf/Uncommitted_changes_before_Checkout_at_2021_7_28__04_14__Default_Changelist_.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Checkout_at_2021_7_28__04_14__Default_Changelist_.xml	(revision 8a61142f99c2fe1cdbac342560a195144c58afc7)
+++ .idea/shelf/Uncommitted_changes_before_Checkout_at_2021_7_28__04_14__Default_Changelist_.xml	(revision 8a61142f99c2fe1cdbac342560a195144c58afc7)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Checkout_at_2021_7_28_下午_04_14_[Default_Changelist]" date="1627460127274" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_2021_7_28_下午_04_14_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Checkout at 2021/7/28 下午 04:14 [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: app/src/main/java/com/example/easybus/Page5011Activity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.easybus;\r\n\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.fragment.app.FragmentActivity;\r\n\r\nimport android.Manifest;\r\nimport android.app.ProgressDialog;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Color;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.BitmapDescriptorFactory;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.Marker;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport com.google.android.gms.maps.model.Polyline;\r\nimport com.google.android.gms.maps.model.PolylineOptions;\r\n\r\nimport java.io.IOException;\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport tw.edu.pu.s1071481.module.DirectionFinder;\r\nimport tw.edu.pu.s1071481.module.DirectionFinderListener;\r\nimport tw.edu.pu.s1071481.module.Route;\r\n\r\npublic class Page5011Activity extends FragmentActivity implements OnMapReadyCallback, DirectionFinderListener{\r\n\r\n    String origin,destination;\r\n    private static final String TAG = \"Page5011Activity\";\r\n    private GoogleMap mMap;\r\n    private EditText mEtOrigin,mEtDestination;\r\n    private ImageButton mBtnFindPath,mBusInfo;\r\n    private ProgressDialog progressDialog;\r\n    private List<Marker> originMarkers = new ArrayList<>();\r\n    private List<Marker> destinationMarkers = new ArrayList<>();\r\n    private List<Polyline> polylinePaths = new ArrayList<>();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_page5011);\r\n\r\n        mBtnFindPath=(ImageButton)findViewById(R.id.btnFindPath);\r\n        mBusInfo=(ImageButton)findViewById(R.id.busInfo);\r\n        mEtOrigin=(EditText)findViewById(R.id.etOrigin);\r\n        mEtDestination=(EditText)findViewById(R.id.etDestination);\r\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                .findFragmentById(R.id.mapView);\r\n        mapFragment.getMapAsync(this);\r\n\r\n        mBtnFindPath.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                sendRequest();\r\n            }\r\n        });\r\n        mBusInfo.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                sendRequest2();\r\n            }\r\n        });\r\n    }\r\n\r\n    public void sendRequest(){\r\n        origin = mEtOrigin.getText().toString().trim();\r\n        destination = mEtDestination.getText().toString().trim();\r\n        if(origin.isEmpty()){\r\n            Toast.makeText(this, \"請輸入起點\", Toast.LENGTH_LONG).show();\r\n            return;\r\n        }else if(destination.isEmpty()){\r\n            Toast.makeText(this, \"請輸入目的地\", Toast.LENGTH_LONG).show();\r\n            return;\r\n        }\r\n        try{\r\n            new DirectionFinder(this,origin,destination).execute();\r\n        }catch(UnsupportedEncodingException e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void sendRequest2(){\r\n        origin = mEtOrigin.getText().toString().trim();\r\n        destination = mEtDestination.getText().toString().trim();\r\n        if(origin.isEmpty()){\r\n            Toast.makeText(this, \"請輸入起點\", Toast.LENGTH_LONG).show();\r\n            return;\r\n        }else if(destination.isEmpty()){\r\n            Toast.makeText(this, \"請輸入目的地\", Toast.LENGTH_LONG).show();\r\n            return;\r\n        }\r\n        try{\r\n            Intent it=new Intent(Page5011Activity.this,Page5012Activity.class);\r\n            Bundle bundle = new Bundle();\r\n            //傳值(origin,destination)\r\n            bundle.putString(\"origin2\",origin);\r\n            bundle.putString(\"destination2\",destination);\r\n            it.putExtras(bundle);\r\n            startActivity(it);\r\n        }catch(Exception e){\r\n            Toast.makeText(this, e.getMessage(), Toast.LENGTH_LONG).show();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n\r\n        // Add a marker in Sydney and move the camera\r\n        LatLng school = new LatLng(24.225431, 120.577063);\r\n        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(school,18));\r\n        originMarkers.add(mMap.addMarker(new MarkerOptions()\r\n                .title(\"靜宜大學\")\r\n                .position(school)));\r\n\r\n        mMap.getUiSettings().setZoomControlsEnabled(true);  //右下角的放大縮小功能\r\n        mMap.getUiSettings().setCompassEnabled(true);   //左上角的指南針，要兩指旋轉\r\n        mMap.getUiSettings().setMapToolbarEnabled(true);    //右下角的導覽及開啟Google Map功能\r\n\r\n        Log.d(TAG,\"最高放大層級：\"+mMap.getMaxZoomLevel());\r\n        Log.d(TAG,\"最低放大層級：\"+mMap.getMinZoomLevel());\r\n        if(ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED && ActivityCompat.checkSelfPermission(this,Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED){\r\n            return;\r\n        }\r\n\r\n        mMap.setMapType(GoogleMap.MAP_TYPE_NORMAL);\r\n        mMap.setMyLocationEnabled(true);    //右上角的定位功能\r\n    }\r\n\r\n    public void onDirectionFinderStart(){\r\n        progressDialog=ProgressDialog.show(this,\"請稍等\",\"正在規劃路線...\",true);\r\n\r\n        if(originMarkers != null){\r\n            for(Marker marker:originMarkers){\r\n                marker.remove();\r\n            }\r\n        }\r\n        if(destinationMarkers != null){\r\n            for(Marker marker:destinationMarkers){\r\n                marker.remove();\r\n            }\r\n        }\r\n        if(polylinePaths != null){\r\n            for(Polyline polyline:polylinePaths){\r\n                polyline.remove();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onDirectionFinderSuccess(List<Route> routes) {\r\n        progressDialog.dismiss();\r\n        polylinePaths=new ArrayList<>();\r\n        originMarkers=new ArrayList<>();\r\n        destinationMarkers=new ArrayList<>();\r\n\r\n        for(Route route:routes){\r\n            mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(route.startLocation,16));\r\n\r\n            originMarkers.add(mMap.addMarker(new MarkerOptions()\r\n                    .title(route.startAddress)\r\n                    .icon(BitmapDescriptorFactory.fromResource(R.drawable.a))\r\n                    .position(route.startLocation)));\r\n\r\n            destinationMarkers.add(mMap.addMarker(new MarkerOptions()\r\n                    .title(route.endAddress)\r\n                    .icon(BitmapDescriptorFactory.fromResource(R.drawable.b))\r\n                    .position(route.endLocation)));\r\n\r\n            PolylineOptions polylineOptions=new PolylineOptions().\r\n                    geodesic(true).color(Color.BLUE).width(10);\r\n\r\n            for(int i=0;i<route.points.size();i++)\r\n                polylineOptions.add(route.points.get(i));\r\n\r\n            polylinePaths.add(mMap.addPolyline(polylineOptions));\r\n        }\r\n\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/easybus/Page5011Activity.java	(revision 8a61142f99c2fe1cdbac342560a195144c58afc7)
+++ app/src/main/java/com/example/easybus/Page5011Activity.java	(date 1628151358564)
@@ -6,6 +6,7 @@
 import android.Manifest;
 import android.app.ProgressDialog;
 import android.content.Intent;
+import android.content.SharedPreferences;
 import android.content.pm.PackageManager;
 import android.graphics.Color;
 import android.os.Bundle;
@@ -38,7 +39,7 @@
 
 public class Page5011Activity extends FragmentActivity implements OnMapReadyCallback, DirectionFinderListener{
 
-    String origin,destination;
+    String origin,destination,getmail;
     private static final String TAG = "Page5011Activity";
     private GoogleMap mMap;
     private EditText mEtOrigin,mEtDestination;
@@ -73,6 +74,10 @@
                 sendRequest2();
             }
         });
+
+        SharedPreferences email = getSharedPreferences("email",MODE_PRIVATE);
+        getmail=email.getString("Email","");
+        System.out.println(getmail);
     }
 
     public void sendRequest(){
Index: app/src/main/java/com/example/easybus/Page61.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.easybus;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.DividerItemDecoration;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\npublic class Page61 extends AppCompatActivity {\r\n    Page61Holder myAdapter;\r\n    static ArrayList<HashMap<String,String>> arrayList1 = new ArrayList<>();\r\n    static ArrayList<HashMap<String,Integer>> arrayList2 = new ArrayList<>();\r\n    RecyclerView recyclerView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_page61);\r\n        //隱藏title bar\r\n        ActionBar actionBar = getSupportActionBar();\r\n        actionBar.hide();\r\n        //跳回主頁\r\n        ImageButton btn2 = (ImageButton)findViewById(R.id.back);\r\n        btn2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent it1 = new Intent(Page61.this,Page3Activity.class);\r\n                startActivity(it1);\r\n                arrayList1.clear();\r\n                arrayList2.clear();\r\n            }\r\n        });\r\n        int image[] = {R.drawable.busdetails,R.drawable.business};\r\n        final String text[] = {\" 公  車  查  詢 \",\"   上    班   \"};\r\n        for(int i = image.length-1;i>=0;i--){\r\n            HashMap<String,String> hashMap = new HashMap<>();\r\n            hashMap.put(\"busname\",text[i]);\r\n            arrayList1.add(hashMap);\r\n            HashMap<String,Integer> hashMap2 = new HashMap<>();\r\n            hashMap2.put(\"busphoto\",image[i]);\r\n            arrayList2.add(hashMap2);\r\n        }\r\n        recyclerView = findViewById(R.id.recyclerview);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n        //recyclerView.addItemDecoration(new DividerItemDecoration(this,DividerItemDecoration.VERTICAL));\r\n        myAdapter = new Page61Holder();\r\n        recyclerView.setAdapter(myAdapter);\r\n        myAdapter.setOnItemClick(new Page61Holder.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(View view, int position) {\r\n                if(arrayList1.get(position).get(\"busname\").equals(\" 公  車  查  詢 \")){\r\n                    Intent it1 = new Intent(Page61.this,Page6Activity.class);\r\n                    startActivity(it1);\r\n                    arrayList1.clear();\r\n                    arrayList2.clear();\r\n                }else{\r\n                    Intent it1 = new Intent(Page61.this,Page62.class);\r\n                    startActivity(it1);\r\n                    arrayList1.clear();\r\n                    arrayList2.clear();\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/easybus/Page61.java	(revision 8a61142f99c2fe1cdbac342560a195144c58afc7)
+++ app/src/main/java/com/example/easybus/Page61.java	(date 1628151358496)
@@ -45,7 +45,7 @@
             }
         });
         int image[] = {R.drawable.busdetails,R.drawable.business};
-        final String text[] = {" 公  車  查  詢 ","   上    班   "};
+        final String text[] = {" 公  車  查  詢 ","   上    班   ","   搭    車   "};
         for(int i = image.length-1;i>=0;i--){
             HashMap<String,String> hashMap = new HashMap<>();
             hashMap.put("busname",text[i]);
